"use strict";(self.webpackChunklogos_blog_template=self.webpackChunklogos_blog_template||[]).push([[598],{18615:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>l,contentTitle:()=>i,default:()=>h,frontMatter:()=>o,metadata:()=>s,toc:()=>u});var a=r(87462),n=(r(67294),r(3905));const o={layout:"post",title:"Nimbus Consensus Layer - past, present, and future",date:"2022-01-13T10:00",authors:"sacha",published:!0},i="Nimbus Consensus Layer - past, present, and future",s={permalink:"/nimbus-consensus-layer-2122",source:"@site/posts/nimbus-consensus-layer-2122.md",title:"Nimbus Consensus Layer - past, present, and future",description:"header-image",date:"2022-01-13T10:00:00.000Z",formattedDate:"January 13, 2022",tags:[],readingTime:6.93,hasTruncateMarker:!0,authors:[{name:"Sacha",key:"sacha"}],frontMatter:{layout:"post",title:"Nimbus Consensus Layer - past, present, and future",date:"2022-01-13T10:00",authors:"sacha",published:!0},prevItem:{title:"Nimbus - checkpoint sync, era files, Vouch",permalink:"/nimbus-update-march"},nextItem:{title:"The importance of light nodes in Vitalik's endgame",permalink:"/light-nodes-ethereum-endgame"}},l={authorsImageUrls:[void 0]},u=[{value:"2021 Highlights",id:"2021-highlights",level:3},{value:"Icing on the cake",id:"icing-on-the-cake",level:3},{value:"Zooming in on last quarter",id:"zooming-in-on-last-quarter",level:3},{value:"Going forward",id:"going-forward",level:3},{value:"More thank yous",id:"more-thank-yous",level:3}],p={toc:u};function h(e){let{components:t,...o}=e;return(0,n.kt)("wrapper",(0,a.Z)({},p,o,{components:t,mdxType:"MDXLayout"}),(0,n.kt)("p",null,(0,n.kt)("img",{alt:"header-image",src:r(49081).Z,width:"647",height:"582"})),(0,n.kt)("p",null,(0,n.kt)("em",{parentName:"p"},"the image above shows 40 of our dependencies purpose built by us for Nimbus and the wider Status ecosystem")),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"It's happening! ",(0,n.kt)("a",{parentName:"p",href:"https://twitter.com/hashtag/eth2?src=hash&ref_src=twsrc%5Etfw"},"#eth2")," genesis is upon us - stay tuned as we prepare a release with everything necessary to run ",(0,n.kt)("a",{parentName:"p",href:"https://twitter.com/ethnimbus?ref_src=twsrc%5Etfw"},"@ethnimbus"),"!  "),(0,n.kt)("p",{parentName:"blockquote"},"Thanks to researchers, supporters, other client teams and the community - we're in this together!"),(0,n.kt)("p",{parentName:"blockquote"},"\u2014 Nimbus (@ethnimbus) ",(0,n.kt)("a",{parentName:"p",href:"https://twitter.com/ethnimbus/status/1331116128870031360?ref_src=twsrc%5Etfw"},"November 24, 2020"))),(0,n.kt)("p",null,"One year later, and we've barely had a moment to catch our breath!  "),(0,n.kt)("p",null,"Since the launch of the Beacon chain last December, we've made a ton of improvements and added a bunch of features to our software. The difference between running a Nimbus node today and back then is night and day."),(0,n.kt)("h3",{id:"2021-highlights"},"2021 Highlights"),(0,n.kt)("p",null,"Some high-level highlights from the last 12 months include:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"26 ",(0,n.kt)("a",{parentName:"li",href:"https://github.com/status-im/nimbus-eth2/releases"},"releases")," without any major hiccups.  "),(0,n.kt)("li",{parentName:"ul"},"A close to perfect track record for our internal fleet of validators.  "),(0,n.kt)("li",{parentName:"ul"},"The first client to release both ",(0,n.kt)("a",{parentName:"li",href:"https://our.status.im/nimbus-update-v1-0-7-release/"},"doppelganger detection")," and batched attestation verification.  "),(0,n.kt)("li",{parentName:"ul"},"Successfully shifting the narrative around ",(0,n.kt)("a",{parentName:"li",href:"https://our.status.im/the-importance-of-client-diversity/"},"the importance of client diversity")," and ",(0,n.kt)("a",{parentName:"li",href:"https://our.status.im/ethereum-is-green/"},"Ethereum's green credentials"),".  "),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"https://eips.ethereum.org/EIPS/eip-3076"},"Influencing the direction")," and making ",(0,n.kt)("a",{parentName:"li",href:"https://github.com/ethereum/consensus-specs/pull/2746#pullrequestreview-817674843"},"contributions")," to both the spec and EIPs.  "),(0,n.kt)("li",{parentName:"ul"},"Pushing the limits of what is possible with respect to both CPU and memory usage.")),(0,n.kt)("p",null,"As we touched on in our ",(0,n.kt)("a",{parentName:"p",href:"https://our.status.im/light-nodes-ethereum-endgame/"},"last post"),", Nimbus' resource efficiency is not just a nice to have. If decentralisation is ",(0,n.kt)("a",{parentName:"p",href:"https://twitter.com/jadler0/status/1433985695396282372?ref_src=twsrc%5Etfw%7Ctwcamp%5Etweetembed%7Ctwterm%5E1433985695396282372%7Ctwgr%5E%7Ctwcon%5Es1_&ref_url=https%3A%2F%2Four.status.im%2Fp%2Fdbab5f30-9e0b-49fb-84c7-ef7adb9d9455%2F"},"the cost to run a full node"),", then resource efficiency is absolutely ",(0,n.kt)("a",{parentName:"p",href:"https://our.status.im/light-nodes-ethereum-endgame/"},"crucial to maintaining a sufficiently robust and decentralised network"),". This is especially true in a post-merge world in which the community is expected to ",(0,n.kt)("a",{parentName:"p",href:"https://vitalik.ca/general/2021/12/06/endgame.html"},"keep block producers in check"),"."),(0,n.kt)("p",null,"To borrow Dankrad's words:"),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"I don't care about the absolute number of nodes.",(0,n.kt)("br",{parentName:"p"}),"\n","I care about the amount of transaction value that is fully secured. That means the user is either running a full node or a fraud proof-protected light client."),(0,n.kt)("p",{parentName:"blockquote"},"\u2014 Dankrad Feist (@dankrad) ",(0,n.kt)("a",{parentName:"p",href:"https://twitter.com/dankrad/status/1415424096024858624?ref_src=twsrc%5Etfw"},"July 14, 2021"))),(0,n.kt)("p",null,"Today, Nimbus is able to run performantly on a single core of a Raspberry Pi 4 while also running Geth, RocketPool and monitoring software (Prometheus + Grafana) in the background. We expect this to keep holding true post merge."),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"We are on it, ",(0,n.kt)("a",{parentName:"p",href:"https://twitter.com/go_ethereum?ref_src=twsrc%5Etfw"},"@go","_","ethereum")," Geth + ",(0,n.kt)("a",{parentName:"p",href:"https://twitter.com/ethnimbus?ref_src=twsrc%5Etfw"},"@ethnimbus")," in the same ",(0,n.kt)("a",{parentName:"p",href:"https://twitter.com/Raspberry_Pi?ref_src=twsrc%5Etfw"},"@Raspberry","_","Pi"),". ",(0,n.kt)("a",{parentName:"p",href:"https://t.co/s2lg573Njh"},"https://t.co/s2lg573Njh")),(0,n.kt)("p",{parentName:"blockquote"},"\u2014 Ethereum on ARM \ud83e\udd87\ud83d\udd0a (@EthereumOnARM) ",(0,n.kt)("a",{parentName:"p",href:"https://twitter.com/EthereumOnARM/status/1407339958046765061?ref_src=twsrc%5Etfw"},"June 22, 2021"))),(0,n.kt)("p",null,"Perhaps one final thing worth mentioning here is that our language of choice, Nim, has required us to build out nearly all the ",(0,n.kt)("a",{parentName:"p",href:"https://nimbus.team/docs/libraries.html"},"libraries")," we rely on ourselves. In the light of recent NPM and Pypi registry attacks, we believe this to be a key strength of ours relative to other clients.  "),(0,n.kt)("p",null,"We have very few external dependencies. And these dependencies are all fuzzed, audited, formally verified, \xa0or have similar rock solid guarantees."),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"Curious which libraries Nimbus depends on? ","`","make deps","`"," shows the full transitive list with the exact version, including the ",(0,n.kt)("a",{parentName:"p",href:"https://twitter.com/nim_lang?ref_src=twsrc%5Etfw"},"@nim","_","lang")," compiler - there is 61 of them right now, counting several that are used only for testing - 40 were purpose-built by ",(0,n.kt)("a",{parentName:"p",href:"https://twitter.com/ethstatus?ref_src=twsrc%5Etfw"},"@ethstatus"),"! ",(0,n.kt)("a",{parentName:"p",href:"https://t.co/L407vmQKZK"},"pic.twitter.com/L407vmQKZK")),(0,n.kt)("p",{parentName:"blockquote"},"\u2014 Nimbus (@ethnimbus) ",(0,n.kt)("a",{parentName:"p",href:"https://twitter.com/ethnimbus/status/1480500108810674176?ref_src=twsrc%5Etfw"},"January 10, 2022"))),(0,n.kt)("h3",{id:"icing-on-the-cake"},"Icing on the cake"),(0,n.kt)("p",null,"Having thought deeply about, and written extensively on ",(0,n.kt)("a",{parentName:"p",href:"https://medium.com/dappnode/guardians-of-ethereum-a-validator-dao-proposal-d82e76231b45"},"the importance of trustless staking pools"),", the icing on the cake for us last year was, without a doubt, the launch of Rocket Pool."),(0,n.kt)("p",null,"After everything the team has been through, notably the ",(0,n.kt)("a",{parentName:"p",href:"https://medium.com/rocket-pool/the-merge-0x02-mev-and-the-future-of-the-protocol-c7451337ec40"},"drama")," around ",(0,n.kt)("inlineCode",{parentName:"p"},"0x02"),", it was truly wonderful to see their vision of a trustless and community owned staking pool start to take shape."),(0,n.kt)("p",null,"We were especially happy to see that, by some estimates, Nimbus is the second most popular Rocket Pool client."),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"218 ",(0,n.kt)("a",{parentName:"p",href:"https://twitter.com/Rocket_Pool?ref_src=twsrc%5Etfw"},"@Rocket","_","Pool")," proposals, four weeks in: ",(0,n.kt)("a",{parentName:"p",href:"https://t.co/HrLZrjCWWC"},"pic.twitter.com/HrLZrjCWWC")),(0,n.kt)("p",{parentName:"blockquote"},"\u2014 superphiz.eth \ud83e\udd87\ud83d\udd0a\ud83d\udc3c (@superphiz) ",(0,n.kt)("a",{parentName:"p",href:"https://twitter.com/superphiz/status/1467978840278503429?ref_src=twsrc%5Etfw"},"December 6, 2021"))),(0,n.kt)("p",null,"Thank you Joe Clapis for everything you've done to red-pill the community into using Nimbus :)"),(0,n.kt)("h3",{id:"zooming-in-on-last-quarter"},"Zooming in on last quarter"),(0,n.kt)("p",null,"In case you haven't kept up with our ",(0,n.kt)("a",{parentName:"p",href:"https://github.com/status-im/nimbus-eth2/releases"},"latest releases"),", arguably the three most important features shipped last quarter were:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"Support for the ",(0,n.kt)("inlineCode",{parentName:"li"},"web3signer")," protocol (currently in BETA)"),(0,n.kt)("li",{parentName:"ul"},"A feature complete ",(0,n.kt)("inlineCode",{parentName:"li"},"rest")," API (still ironing out a few issues)"),(0,n.kt)("li",{parentName:"ul"},"A ",(0,n.kt)("inlineCode",{parentName:"li"},"--num-threads")," option which allows Nimbus to take advantage of multiple CPU cores")),(0,n.kt)("p",null,(0,n.kt)("inlineCode",{parentName:"p"},"v1.5.5")," alone saw three significant optimisations worth highlighting here:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"A 6x speed-up in epoch processing"),(0,n.kt)("li",{parentName:"ul"},"A 2x speed up in Altair block processing"),(0,n.kt)("li",{parentName:"ul"},"A 12% reduction in outgoing GossipSub traffic (bandwidth reduction).")),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"A calm-after-the-altair-storm release with lots of polish across the board - big drop in outgoing network traffic thanks to an elegant libp2p optimization, more flexibility in the REST interface allows you to use Nimbus with a growing amount of 3rd party tools, web3signer.. ",(0,n.kt)("a",{parentName:"p",href:"https://t.co/RTerT29ijA"},"https://t.co/RTerT29ijA")),(0,n.kt)("p",{parentName:"blockquote"},"\u2014 Jacek Sieka (@jcksie) ",(0,n.kt)("a",{parentName:"p",href:"https://twitter.com/jcksie/status/1467938248936804356?ref_src=twsrc%5Etfw"},"December 6, 2021"))),(0,n.kt)("p",null,"Both ",(0,n.kt)("inlineCode",{parentName:"p"},"web3signer")," support and the ",(0,n.kt)("inlineCode",{parentName:"p"},"rest")," API pave the way for wider adoption of Nimbus. ",(0,n.kt)("inlineCode",{parentName:"p"},"web3signer")," by allowing for staking pools and other providers with a custom key handling strategy to use Nimbus. And the ",(0,n.kt)("inlineCode",{parentName:"p"},"rest")," API by allowing for third-party validator clients such as ",(0,n.kt)("a",{parentName:"p",href:"https://www.attestant.io/posts/introducing-vouch/"},"Vouch")," (or any other validator client for that matter) to use Nimbus as their beacon node."),(0,n.kt)("p",null,"Special thanks to Jim Mcdonald (@jgm) for helping us test the REST server: It is in large part thanks to your testing that we managed to get to the finish line!"),(0,n.kt)("h3",{id:"going-forward"},"Going forward"),(0,n.kt)("p",null,"There is so much to look forward to in 2022. Here's a quick overview of our priorities:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"The merge, then sharding"),": the main focus here is on the stellar and timely execution of the ",(0,n.kt)("a",{parentName:"li",href:"https://github.com/ethereum/consensus-specs/tree/dev/specs/merge"},"merge")," followed by the ",(0,n.kt)("a",{parentName:"li",href:"https://github.com/ethereum/consensus-specs/blob/dev/specs/sharding/beacon-chain.md"},"sharding")," specs."),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"Wider adoption"),": we have a new business development unit (welcome ",(0,n.kt)("a",{parentName:"li",href:"https://twitter.com/liftlines"},"Kausha"),"l!) devoted to increasing adoption. The initial focus will be on providing support for staking pools and providers who wish to adopt Nimbus ( a number of which have already committed to running Nimbus this year)."),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"Diversity++:")," this will mainly involve implementing all standards which seek to promote client diversity \xa0(e.g. the development of cross-client UIs, migration tools, and the ",(0,n.kt)("a",{parentName:"li",href:"https://ssv.network/"},"SSV")," network)."),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"The great rebranding"),": we want people to realise at a glance that Nimbus is great for far more than just resource-restricted devices. And, in particular, that there are important advantages to using it for enterprise grade infrastructure. This requires rethinking our branding and how we talk about ourselves."),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"Privacy"),": as part of Status, caring about privacy is in our DNA. We plan on exploring how we can leverage our work on ",(0,n.kt)("a",{parentName:"li",href:"https://rfc.vac.dev/spec/10/"},"Waku")," in order to ",(0,n.kt)("a",{parentName:"li",href:"https://github.com/libp2p/specs/issues/374"},"bring more privacy to validators at the networking layer"),"."),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"A Nimbus focused UI"),": we are committing serious resources towards a Nimbus UI which will be an integral part of the Status product roadmap moving forward. Our focus here is on user-friendly approaches for creating, managing, and monitoring validators (no CLI experience needed).")),(0,n.kt)("p",null,"This year will also see us increasingly focused on lowering the technical barriers to running a full node (both consensus and execution) as well as pushing forward with our ",(0,n.kt)("a",{parentName:"p",href:"https://github.com/etan-status/nimbus-eth2/compare/merkle-multiproof...etan-status:lightclient-api"},"light client implementation")," (keep track of our progress ",(0,n.kt)("a",{parentName:"p",href:"https://github.com/status-im/nimbus-eth2/issues/2337#issuecomment-967153855"},"here"),")."),(0,n.kt)("p",null,"As we mentioned in our ",(0,n.kt)("a",{parentName:"p",href:"https://our.status.im/nimbus-execution-layer/"},"execution layer recap"),", one of our main design goals is to make it as easy as possible for our consensus and execution clients to be bundled into a single piece of software. With the Nimbus UI, you'll be able \xa0to manage and monitor your node straight from the Status Desktop app."),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"I can't wait to run Nimbus straight from Status Desktop ",(0,n.kt)("a",{parentName:"p",href:"https://twitter.com/hashtag/hyped?src=hash&ref_src=twsrc%5Etfw"},"#hyped")),(0,n.kt)("p",{parentName:"blockquote"},"\u2014 Jarrad Hope (@0xc1c4da) ",(0,n.kt)("a",{parentName:"p",href:"https://twitter.com/0xc1c4da/status/1293473249347555334?ref_src=twsrc%5Etfw"},"August 12, 2020"))),(0,n.kt)("p",null,(0,n.kt)("a",{parentName:"p",href:"https://our.status.im/light-nodes-ethereum-endgame/"},"Complementary to this vision")," (and part of our longer-term UI roadmap) is an embedded light client running on your mobile phone."),(0,n.kt)("h3",{id:"more-thank-yous"},"More thank yous"),(0,n.kt)("p",null,"We want to end by saying a big thank you to the Ethereum Foundation for the unbelievably generous incentive program they ",(0,n.kt)("a",{parentName:"p",href:"https://blog.ethereum.org/2021/12/13/client-incentive-program/"},"announced")," towards the end of last year. We are truly humbled to be valued by you in this way."),(0,n.kt)("p",null,"A big thank you to all the node runners using Nimbus, without you our work would be, quite frankly, meaningless."),(0,n.kt)("p",null,"And, last but by no means least, a big thank you to all our ",(0,n.kt)("a",{parentName:"p",href:"https://gitcoin.co/grants/137/nimbus"},"Gitcoin supporters"),": even more important than the financial, is the moral support; the appreciation we feel from every single one of you, each GR round, keeps our spirits high when the going feels tough.  "),(0,n.kt)("p",null,"We wish you all the very best of luck this coming year."))}h.isMDXComponent=!0},3905:(e,t,r)=>{r.d(t,{Zo:()=>p,kt:()=>m});var a=r(67294);function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){n(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r,a,n={},o=Object.keys(e);for(a=0;a<o.length;a++)r=o[a],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)r=o[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var l=a.createContext({}),u=function(e){var t=a.useContext(l),r=t;return e&&(r="function"==typeof e?e(t):i(i({},t),e)),r},p=function(e){var t=u(e.components);return a.createElement(l.Provider,{value:t},e.children)},h={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},c=a.forwardRef((function(e,t){var r=e.components,n=e.mdxType,o=e.originalType,l=e.parentName,p=s(e,["components","mdxType","originalType","parentName"]),c=u(r),m=n,d=c["".concat(l,".").concat(m)]||c[m]||h[m]||o;return r?a.createElement(d,i(i({ref:t},p),{},{components:r})):a.createElement(d,i({ref:t},p))}));function m(e,t){var r=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var o=r.length,i=new Array(o);i[0]=c;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s.mdxType="string"==typeof e?e:n,i[1]=s;for(var u=2;u<o;u++)i[u]=r[u];return a.createElement.apply(null,i)}return a.createElement.apply(null,r)}c.displayName="MDXCreateElement"},49081:(e,t,r)=>{r.d(t,{Z:()=>a});const a=r.p+"assets/images/header-7ec6f1f71d99b03e469ef311f801437a.png"}}]);