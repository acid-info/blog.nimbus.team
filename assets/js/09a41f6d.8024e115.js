"use strict";(self.webpackChunklogos_blog_template=self.webpackChunklogos_blog_template||[]).push([[184],{79102:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>p,contentTitle:()=>s,default:()=>l,frontMatter:()=>o,metadata:()=>i,toc:()=>c});var a=r(87462),n=(r(67294),r(3905));const o={layout:"post",title:"Nimbus update - Pre-merge interop!",description:"It is a little known secret that, in addition to our consensus layer (eth2) client we are building out an execution layer (eth1) client - with the objective that it should be ready for the merge.",date:"2021-10-02T10:00",authors:"sacha",published:!0},s="Nimbus: Execution Layer",i={permalink:"/nimbus-update-pre-merge-devnets",source:"@site/posts/nimbus-update-pre-merge-devnets.md",title:"Nimbus update - Pre-merge interop!",description:"It is a little known secret that, in addition to our consensus layer (eth2) client we are building out an execution layer (eth1) client - with the objective that it should be ready for the merge.",date:"2021-10-02T10:00:00.000Z",formattedDate:"October 2, 2021",tags:[],readingTime:4.43,hasTruncateMarker:!0,authors:[{name:"Sacha",key:"sacha"}],frontMatter:{layout:"post",title:"Nimbus update - Pre-merge interop!",description:"It is a little known secret that, in addition to our consensus layer (eth2) client we are building out an execution layer (eth1) client - with the objective that it should be ready for the merge.",date:"2021-10-02T10:00",authors:"sacha",published:!0},prevItem:{title:"Nimbus - Execution Layer",permalink:"/nimbus-execution-layer"}},p={authorsImageUrls:[void 0]},c=[{value:"Merge quick sync",id:"merge-quick-sync",level:3},{value:"Our progress",id:"our-progress",level:3},{value:"Interop lock in: round 2",id:"interop-lock-in-round-2",level:3}],h={toc:c};function l(e){let{components:t,...o}=e;return(0,n.kt)("wrapper",(0,a.Z)({},h,o,{components:t,mdxType:"MDXLayout"}),(0,n.kt)("p",null,(0,n.kt)("img",{alt:"header-image",src:r(45464).Z,width:"3000",height:"1000"})),(0,n.kt)("p",null,"In the words of Danny Ryan, Altair is here and the Merge is coming!"),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"Finalized no. 29",(0,n.kt)("a",{parentName:"p",href:"https://t.co/ssVYW3M8d7"},"https://t.co/ssVYW3M8d7"),"  "),(0,n.kt)("p",{parentName:"blockquote"},"Altair is here; the Merge is coming.  "),(0,n.kt)("p",{parentName:"blockquote"},"tl;dr below"),(0,n.kt)("p",{parentName:"blockquote"},"\u2014 dannyryan \ud83d\ude82 (@dannyryan) ",(0,n.kt)("a",{parentName:"p",href:"https://twitter.com/dannyryan/status/1442873900652646405?ref_src=twsrc%5Etfw"},"September 28, 2021"))),(0,n.kt)("p",null,"We first simulated the merge back in April/May of this year."),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},">"," This is the first time all eth2 and eth1 clients communicated with each other in an emulation of the merger which removes Proof of Work miners and fully upgrades the network to Proof of Stake.  "),(0,n.kt)("p",{parentName:"blockquote"},"eth2 progress deniers in disbelief ",(0,n.kt)("a",{parentName:"p",href:"https://t.co/VGlWCI5d3v"},"https://t.co/VGlWCI5d3v")),(0,n.kt)("p",{parentName:"blockquote"},"\u2014 banteg (@bantg) ",(0,n.kt)("a",{parentName:"p",href:"https://twitter.com/bantg/status/1388609381869236227?ref_src=twsrc%5Etfw"},"May 1, 2021"))),(0,n.kt)("p",null,"Fast forwards 5 months and we're finally ready for a more realistic follow-up."),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"the merge is coming fast. THE MERGE Y'ALL. arguably the largest event in blockchain history since the bitcoin genesis block. It's proof that together we can build a decentralized future, and (responsibly) improve and innovate on the core infrastructure via rough social consensus ",(0,n.kt)("a",{parentName:"p",href:"https://t.co/2h6GMKF2wJ"},"https://t.co/2h6GMKF2wJ")),(0,n.kt)("p",{parentName:"blockquote"},"\u2014 kassandra.eth (@RitualTypist) ",(0,n.kt)("a",{parentName:"p",href:"https://twitter.com/RitualTypist/status/1442888325535125510?ref_src=twsrc%5Etfw"},"September 28, 2021"))),(0,n.kt)("p",null,"This time, the interop will ",(0,n.kt)("a",{parentName:"p",href:"https://hackmd.io/@n0ble/merge-interop-spec"},"build off Altair"),", rather than Phase 0.",(0,n.kt)("br",{parentName:"p"}),"\n","Importantly, we'll be testing the transition mechanism that will take us from a pre to post merge world."),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"Productionizing the Merge spec includes:",(0,n.kt)("br",{parentName:"p"}),"\n","-"," Improving the Consensus API (separating it from the user JSON-RPC)",(0,n.kt)("br",{parentName:"p"}),"\n","-"," Implementing the logic for the latest fork-transition approach",(0,n.kt)("br",{parentName:"p"}),"\n","-"," Rebase the work onto Altair/London upgrades"),(0,n.kt)("p",{parentName:"blockquote"},"\u2014 proto.eth \ud83d\ude82 \ud83e\udd87 \ud83d\udd0a (@protolambda) ",(0,n.kt)("a",{parentName:"p",href:"https://twitter.com/protolambda/status/1392448056591884288?ref_src=twsrc%5Etfw"},"May 12, 2021"))),(0,n.kt)("p",null,'The merge spec has just recently been "productionised"'),(0,n.kt)("p",null,"We also have a 5th client on the block \xa0:)  "),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"LODESTAR JOINED THE 100% CLUB \ud83d\ude0e Max profitability for a full day on Eth2.0 mainnet.  "),(0,n.kt)("p",{parentName:"blockquote"},"*","I test in prod","*"," master ",(0,n.kt)("a",{parentName:"p",href:"https://twitter.com/gregthegreek?ref_src=twsrc%5Etfw"},"@gregthegreek")," plz enjoy your sweet rewards ",(0,n.kt)("a",{parentName:"p",href:"https://twitter.com/ChainSafeth?ref_src=twsrc%5Etfw"},"@ChainSafeth")," \ud83d\ude80\ud83d\ude80\ud83d\ude80\ud83d\ude80 ",(0,n.kt)("a",{parentName:"p",href:"https://t.co/e8RMR8fRdi"},"pic.twitter.com/e8RMR8fRdi")),(0,n.kt)("p",{parentName:"blockquote"},"\u2014 Lion \u27e0 dapplion .eth (@dapplion) ",(0,n.kt)("a",{parentName:"p",href:"https://twitter.com/dapplion/status/1438882897260425217?ref_src=twsrc%5Etfw"},"September 17, 2021"))),(0,n.kt)("h3",{id:"merge-quick-sync"},"Merge quick sync"),(0,n.kt)("p",null,"In general an Ethereum client consists of two layers - the consensus layer and the execution layer."),(0,n.kt)("p",null,"The consensus layer is responsible for the consensus, i.e. block validity, and fork choice rule. As it stands, on mainnet, we rely on PoW consensus. The Merge enables PoS consensus driven by the beacon chain."),(0,n.kt)("p",null,"The execution-layer is responsible for transaction bundling, execution, and state management. During the merge this layer will be represented by modified pre-merge PoW clients (eg. geth, nethermind, besu, openethereum, turbogeth, etc)."),(0,n.kt)("p",null,"The key to a successful merge is getting these two layers to talk to each other: the plan right now is for them to interact via a one-way communication protocol, driven by the consensus layer (although this approach is not yet set in stone)."),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"Note that if these layers are bundled into a single piece of software, then the UX of running a post-merge client becomes very similar to running a pre-merge PoW client today (which is precisely why we are working so hard on building out ",(0,n.kt)("a",{parentName:"p",href:"https://github.com/status-im/nimbus-eth1"},"our execution layer client"),").")),(0,n.kt)("p",null,"If you'd like to to dig into the details, ",(0,n.kt)("a",{parentName:"p",href:"https://hackmd.io/@n0ble/merge-interop-spec"},"this document")," specifies the modifications that must be made to beacon chain and pre-merge clients to turn them into a post-merge consensus node and execution engine, respectively."),(0,n.kt)("h3",{id:"our-progress"},"Our progress"),(0,n.kt)("p",null,"We have passed all the ",(0,n.kt)("a",{parentName:"p",href:"https://notes.ethereum.org/@9AeMAlpyQYaAAyuj47BzRw/rkwW3ceVY"},"merge spec tests"),". If you want to get your hands dirty, you can actually ",(0,n.kt)("a",{parentName:"p",href:"https://github.com/status-im/nimbus-eth2/blob/amphora-merge-interop/docs/interop_merge.md#verify-that-nimbus-runs-through-the-same-examples"},"verify this for yourself"),"!"),(0,n.kt)("p",null,"And while we're waiting for a compatible execution client, we have everything you need to ",(0,n.kt)("a",{parentName:"p",href:"https://github.com/status-im/nimbus-eth2/blob/amphora-merge-interop/docs/interop_merge.md"},"start experimenting")," on the consensus side."),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"Eager to get started with ",(0,n.kt)("a",{parentName:"p",href:"https://twitter.com/hashtag/themerge?src=hash&ref_src=twsrc%5Etfw"},"#themerge")," experiments? Our interop branch has got everything you need for the consensus side: ",(0,n.kt)("a",{parentName:"p",href:"https://t.co/rRwO27kmaK"},"https://t.co/rRwO27kmaK")),(0,n.kt)("p",{parentName:"blockquote"},"\u2014 Nimbus (@ethnimbus) ",(0,n.kt)("a",{parentName:"p",href:"https://twitter.com/ethnimbus/status/1443943484893839370?ref_src=twsrc%5Etfw"},"October 1, 2021"))),(0,n.kt)("p",null,"You can keep track of our broader progress ",(0,n.kt)("a",{parentName:"p",href:"https://github.com/status-im/nimbus-eth2/issues/2859"},"here"),"."),(0,n.kt)("h3",{id:"interop-lock-in-round-2"},"Interop lock in: round 2"),(0,n.kt)("p",null,"In the ",(0,n.kt)("a",{parentName:"p",href:"https://t.co/97X85jdCzM?amp=1"},"words of Ben Edgington"),", the cat is out of the bag - the eth1 and eth2 client teams will be meeting up in early October to get some Merge devnets running."),(0,n.kt)("p",null,"You can think of this as round 2 of the interop event we did two years ago."),(0,n.kt)("p",null,"Expect to hear a lot of updates from the client teams as we build out the Merge logic and test our software together on short-lived devnets."),(0,n.kt)("p",null,"In anticipation, we'll leave you with some highlights from the previous lockin."),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},(0,n.kt)("a",{parentName:"p",href:"https://twitter.com/hashtag/Lighthouse?src=hash&ref_src=twsrc%5Etfw"},"#Lighthouse")," and ",(0,n.kt)("a",{parentName:"p",href:"https://twitter.com/ethnimbus?ref_src=twsrc%5Etfw"},"@ethnimbus")," just finalized a ",(0,n.kt)("a",{parentName:"p",href:"https://twitter.com/hashtag/Eth2?src=hash&ref_src=twsrc%5Etfw"},"#Eth2")," epoch!  "),(0,n.kt)("p",{parentName:"blockquote"},"As far as I know, this is the first instance of finality on a multi-client Eth2 testnet!  "),(0,n.kt)("p",{parentName:"blockquote"},"Thanks ",(0,n.kt)("a",{parentName:"p",href:"https://twitter.com/protolambda?ref_src=twsrc%5Etfw"},"@protolambda"),", ",(0,n.kt)("a",{parentName:"p",href:"https://twitter.com/dannyryan?ref_src=twsrc%5Etfw"},"@dannyryan")," for the help. Great work on the networking stack ",(0,n.kt)("a",{parentName:"p",href:"https://twitter.com/AgeManning?ref_src=twsrc%5Etfw"},"@AgeManning")," and ",(0,n.kt)("a",{parentName:"p",href:"https://twitter.com/jcksie?ref_src=twsrc%5Etfw"},"@jcksie"),(0,n.kt)("img",{parentName:"p",src:"https://twitter.com/hashtag/Eth2?src=hash&ref_src=twsrc%5Etfw",alt:"#Eth2"})," is coming! ",(0,n.kt)("a",{parentName:"p",href:"https://t.co/vC5m9OuaT8"},"pic.twitter.com/vC5m9OuaT8")),(0,n.kt)("p",{parentName:"blockquote"},"\u2014 Paul Hauner (@paulhauner) ",(0,n.kt)("a",{parentName:"p",href:"https://twitter.com/paulhauner/status/1170952290469122048?ref_src=twsrc%5Etfw"},"September 9, 2019"))),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"Artemis just achieved ",(0,n.kt)("a",{parentName:"p",href:"https://twitter.com/hashtag/interop?src=hash&ref_src=twsrc%5Etfw"},"#interop")," with ",(0,n.kt)("a",{parentName:"p",href:"https://twitter.com/ethnimbus?ref_src=twsrc%5Etfw"},"@ethnimbus")," ",(0,n.kt)("a",{parentName:"p",href:"https://t.co/JWkIg3XinW"},"pic.twitter.com/JWkIg3XinW")),(0,n.kt)("p",{parentName:"blockquote"},"\u2014 Joseph Delong \ud83d\udd31 (@josephdelong) ",(0,n.kt)("a",{parentName:"p",href:"https://twitter.com/josephdelong/status/1171465845513408514?ref_src=twsrc%5Etfw"},"September 10, 2019"))),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"Validator monitoring coming to an ",(0,n.kt)("a",{parentName:"p",href:"https://twitter.com/ethnimbus?ref_src=twsrc%5Etfw"},"@ethnimbus")," near you ","*","soon(TM)","*",": ",(0,n.kt)("a",{parentName:"p",href:"https://t.co/x65lpxJ3t4"},"https://t.co/x65lpxJ3t4")," - based on the excellent and pioneering work done by ",(0,n.kt)("a",{parentName:"p",href:"https://twitter.com/paulhauner?ref_src=twsrc%5Etfw"},"@paulhauner")," / ",(0,n.kt)("a",{parentName:"p",href:"https://twitter.com/sigp_io?ref_src=twsrc%5Etfw"},"@sigp","_","io")," - by and large compatible metrics make dashboard/monitoring interop easier too!"),(0,n.kt)("p",{parentName:"blockquote"},"\u2014 Jacek Sieka (@jcksie) ",(0,n.kt)("a",{parentName:"p",href:"https://twitter.com/jcksie/status/1443568596865589248?ref_src=twsrc%5Etfw"},"September 30, 2021"))),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"Fully autonomous ",(0,n.kt)("a",{parentName:"p",href:"https://twitter.com/hashtag/eth2?src=hash&ref_src=twsrc%5Etfw"},"#eth2")," beacon chain between ",(0,n.kt)("a",{parentName:"p",href:"https://twitter.com/ethnimbus?ref_src=twsrc%5Etfw"},"@ethnimbus")," and ",(0,n.kt)("a",{parentName:"p",href:"https://twitter.com/hashtag/lighthouse?src=hash&ref_src=twsrc%5Etfw"},"#lighthouse")," on a pair of raspberries found in the Canadian wilderness! ",(0,n.kt)("a",{parentName:"p",href:"https://t.co/Xkps1Yu3DS"},"pic.twitter.com/Xkps1Yu3DS")),(0,n.kt)("p",{parentName:"blockquote"},"\u2014 Jacek Sieka (@jcksie) ",(0,n.kt)("a",{parentName:"p",href:"https://twitter.com/jcksie/status/1171886857908609024?ref_src=twsrc%5Etfw"},"September 11, 2019"))),(0,n.kt)("p",null,(0,n.kt)("em",{parentName:"p"},"P.S. Keep your eyes peeled for an ",(0,n.kt)("a",{parentName:"em",href:"https://blog.ethereum.org"},"Ethereum Foundation blogpost")," on Monday. This will include all mainnet Altair releases. We will also be making a more formal Altair announcement next week.")))}l.isMDXComponent=!0},3905:(e,t,r)=>{r.d(t,{Zo:()=>h,kt:()=>m});var a=r(67294);function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){n(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function i(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r,a,n={},o=Object.keys(e);for(a=0;a<o.length;a++)r=o[a],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)r=o[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var p=a.createContext({}),c=function(e){var t=a.useContext(p),r=t;return e&&(r="function"==typeof e?e(t):s(s({},t),e)),r},h=function(e){var t=c(e.components);return a.createElement(p.Provider,{value:t},e.children)},l={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},u=a.forwardRef((function(e,t){var r=e.components,n=e.mdxType,o=e.originalType,p=e.parentName,h=i(e,["components","mdxType","originalType","parentName"]),u=c(r),m=n,f=u["".concat(p,".").concat(m)]||u[m]||l[m]||o;return r?a.createElement(f,s(s({ref:t},h),{},{components:r})):a.createElement(f,s({ref:t},h))}));function m(e,t){var r=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var o=r.length,s=new Array(o);s[0]=u;var i={};for(var p in t)hasOwnProperty.call(t,p)&&(i[p]=t[p]);i.originalType=e,i.mdxType="string"==typeof e?e:n,s[1]=i;for(var c=2;c<o;c++)s[c]=r[c];return a.createElement.apply(null,s)}return a.createElement.apply(null,r)}u.displayName="MDXCreateElement"},45464:(e,t,r)=>{r.d(t,{Z:()=>a});const a=r.p+"assets/images/header-8ce0e43f2cbf84a919813f7226c121b3.png"}}]);