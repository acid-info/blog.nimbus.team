<?xml version="1.0" encoding="utf-8"?>
<rss version="2.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:content="http://purl.org/rss/1.0/modules/content/">
    <channel>
        <title>Nimbus Blog</title>
        <link>https://nimbus.team/</link>
        <description>Nimbus Blog</description>
        <lastBuildDate>Fri, 30 Dec 2022 10:00:00 GMT</lastBuildDate>
        <docs>https://validator.w3.org/feed/docs/rss2.html</docs>
        <generator>https://github.com/jpmonette/feed</generator>
        <language>en</language>
        <item>
            <title><![CDATA[Nimbus client 2022 year-end recap]]></title>
            <link>https://nimbus.team/nimbus-2022-recap</link>
            <guid>https://nimbus.team/nimbus-2022-recap</guid>
            <pubDate>Fri, 30 Dec 2022 10:00:00 GMT</pubDate>
            <description><![CDATA[As 2022 winds down, the Nimbus research team reflects on another year of building the infrastructure needed to maximally decentralize the Ethereum network.]]></description>
            <content:encoded><![CDATA[<p></p><div class="wrapper_SWrM active_qZD5"><img loading="lazy" alt="header-image" src="/assets/images/header-775b2b79f51f11d203571a78ad36ff49.jpeg" width="2000" height="1339" class="img_ev3q"><button class="fullscreenButton_Bocn lsd-icon-button lsd-icon-button--medium lsd-icon-button--outlined"><div class="icon_S7Kx m_thRi"><svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg" role="img"><path d="M1.75 2.917V5.25h1.167V2.917H5.25V1.75H2.917A1.17 1.17 0 0 0 1.75 2.917ZM2.917 8.75H1.75v2.333a1.17 1.17 0 0 0 1.167 1.167H5.25v-1.167H2.917V8.75Zm8.166 2.333H8.75v1.167h2.333a1.17 1.17 0 0 0 1.167-1.167V8.75h-1.167v2.333Zm0-9.333H8.75v1.167h2.333V5.25h1.167V2.917a1.17 1.17 0 0 0-1.167-1.167Z" fill="#fff"></path></svg></div></button></div><p></p><p>As 2022 winds down, the Nimbus research team reflects on another year of building the infrastructure needed to maximally decentralize the Ethereum network. Here's our recap of updates to the Nimbus consensus client over the past 12 months.</p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="nimbus-2022-unpacked">Nimbus' 2022 unpacked<a href="#nimbus-2022-unpacked" class="hash-link" aria-label="Direct link to Nimbus' 2022 unpacked" title="Direct link to Nimbus' 2022 unpacked">​</a></h2><p>The broader Ethereum ecosystem enjoyed a momentous 2022. Taking center stage, of course, was the Mainnet Merge — arguably the most ambitious software update ever orchestrated.</p><p>This year has been equally important for the Nimbus client. Among the 20 major and minor releases shipped, there were several significant improvements, changes and feature updates made to the Nimbus client in the last 12 months.</p><p>Some of 2022's key highlights include:</p><ol><li><p>The long-awaited <a href="https://github.com/status-im/nimbus-eth2/issues/3088" target="_blank" rel="noopener noreferrer">split client mode</a>. This mode enables a more flexible setup: running the Nimbus validator client independently of the beacon node. Through the validator client, advanced node operators such as institutional users and pool operators can take advantage of features like redundant beacon nodes, enhanced validator privacy and distributed keystores. Meanwhile, existing users can still use the streamlined stand-alone beacon node setup, as this mode of operation is continued to be supported and improved.  </p></li><li><p>Marked enhancements leading up to a successful Ethereum Mainnet Merge and the stable performance of Nimbus in the post-merge network.</p></li><li><p>Support for <a href="https://nimbus.guide/trusted-node-sync.html" target="_blank" rel="noopener noreferrer">trusted node sync</a> (also known as checkpoint sync).  </p></li><li><p>Support for <a href="https://nimbus.guide/external-block-builder.html" target="_blank" rel="noopener noreferrer">external block builders</a> — aka MEV — leading up to the Merge.  </p></li><li><p>Support for the Ethereum-defined REST API endpoints for light client sync.  </p></li><li><p>Beta release for the <a href="https://nimbus.guide/el-light-client.html" target="_blank" rel="noopener noreferrer">Nimbus stand-alone light client</a>. It can be used to run any execution client without requiring a full-blown beacon node.  </p></li><li><p>Improved metrics to <a href="https://nimbus.guide/validator-monitor.html" target="_blank" rel="noopener noreferrer">track validator activity</a>.  </p></li><li><p>Continued improvement in <a href="https://github.com/status-im/nimbus-eth2/releases/tag/v22.12.0" target="_blank" rel="noopener noreferrer">client efficiency</a>. Now Nimbus requires less CPU, lower bandwidth and smaller memory space.  </p></li><li><p>Support for the <a href="https://nimbus.guide/keymanager-api.html" target="_blank" rel="noopener noreferrer">Keymanager API</a> and remote keystores. With the Keymanager API, users can add, remove and migrate validators on the fly.  </p></li><li><p>Significant improvement in the <a href="https://nimbus.guide/" target="_blank" rel="noopener noreferrer">Nimbus guide</a> in terms of content and coverage.</p></li></ol><p>The Nimbus team is grateful to the many contributors, community champions and users who collectively pushed for greater client diversity in the network, shared valuable feedback and celebrated each milestone with us.</p><p>As we conclude the Year of the Panda, we look forward to the Year of the Owl alongside the community.</p><p><em>Check our blog and follow our social channels to stay up to date with all the latest Nimbus ecosystem developments:</em></p><ul><li><p><a href="https://our.status.im/tag/nimbus/" target="_blank" rel="noopener noreferrer">Blog</a></p></li><li><p><a href="https://twitter.com/ethnimbus" target="_blank" rel="noopener noreferrer">Twitter</a></p></li><li><p><a href="https://discord.com/invite/qnjVyhatUa" target="_blank" rel="noopener noreferrer">Discord</a></p></li><li><p><a href="https://github.com/status-im" target="_blank" rel="noopener noreferrer">GitHub</a></p></li></ul>]]></content:encoded>
        </item>
        <item>
            <title><![CDATA[Unbundling the Nimbus consensus client - Part one]]></title>
            <link>https://nimbus.team/unbundling-nimbus-client-1</link>
            <guid>https://nimbus.team/unbundling-nimbus-client-1</guid>
            <pubDate>Fri, 30 Dec 2022 09:00:00 GMT</pubDate>
            <description><![CDATA[Nimbus has released a production-ready version of its validator client, addressing a key demand from node operators and advanced users.]]></description>
            <content:encoded><![CDATA[<p></p><div class="wrapper_SWrM active_qZD5"><img loading="lazy" alt="header-image" src="/assets/images/header-a5dcc529d042bd0477eb42a7d01adebd.jpeg" width="2000" height="1335" class="img_ev3q"><button class="fullscreenButton_Bocn lsd-icon-button lsd-icon-button--medium lsd-icon-button--outlined"><div class="icon_S7Kx m_thRi"><svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg" role="img"><path d="M1.75 2.917V5.25h1.167V2.917H5.25V1.75H2.917A1.17 1.17 0 0 0 1.75 2.917ZM2.917 8.75H1.75v2.333a1.17 1.17 0 0 0 1.167 1.167H5.25v-1.167H2.917V8.75Zm8.166 2.333H8.75v1.167h2.333a1.17 1.17 0 0 0 1.167-1.167V8.75h-1.167v2.333Zm0-9.333H8.75v1.167h2.333V5.25h1.167V2.917a1.17 1.17 0 0 0-1.167-1.167Z" fill="#fff"></path></svg></div></button></div><p></p><p>Nimbus has released a production-ready version of its validator client, addressing a key demand from node operators and advanced users. The client is highly performant and requires low resources, allowing it to run on a range of devices — from embedded systems to enterprise servers.</p><p>By default, the Nimbus consensus client's design allows validators to be run directly from the beacon node, simplifying validator setup. This makes it an ideal choice for solo-stakers, and select node operators that want to use the Nimbus beacon node. However, it made it difficult for operators to use Nimbus in their existing setups, which often feature one or more client beacon nodes interacting with multiple validator clients.</p><p>For example, one node operator runs a Teku beacon node with Teku and LH validator clients. Another operator runs a Vouch-based setup with four different client beacon nodes and a Vouch validator client. This also includes node operators in the Rocket Pool network that run several mini-pools. Each operator has fine-tuned their setup for redundancy, performance and resource consistency. It was understandably challenging for these users to directly use the default Nimbus setup of an integrated beacon node and validator client, which would mean a completely different stack to maintain and manage.</p><p>Release v22.11.0 allows users to run the Nimbus validator client independently with beacon nodes from other clients, giving operators greater flexibility and the ability to introduce Nimbus into their existing setups with minimal change. This configuration is ideal for operators running hundreds to thousands of validators.</p><p>Additionally, the new release includes improvements and fixes. For example, the beacon node is now compatible with validator clients taking advantage of the /eth/v1/beacon/blinded_blocks endpoint, and enables much faster loading of the validator keystore during startup.</p><p>Nimbus's privacy characteristics, including its low public profile and support for publishing blocks to separate nodes (such that the validator cannot be matched to its IP address by listening to attestation traffic), make it an attractive choice for advanced users and node operators.</p><p>The Nimbus team will continue to support and improve the standalone beacon node setup for individual users and hope to see more operators include the Nimbus validator client in their fleet to improve overall client diversity across the Ethereum network.</p><p>Check our blog and follow our social channels to stay up to date with all the latest Nimbus ecosystem developments:</p><ul><li><p><a href="https://our.status.im/tag/nimbus/" target="_blank" rel="noopener noreferrer">Blog</a></p></li><li><p><a href="https://twitter.com/ethnimbus" target="_blank" rel="noopener noreferrer">Twitter</a></p></li><li><p><a href="https://discord.com/invite/qnjVyhatUa" target="_blank" rel="noopener noreferrer">Discord</a></p></li><li><p><a href="https://github.com/status-im" target="_blank" rel="noopener noreferrer">GitHub</a></p></li></ul>]]></content:encoded>
        </item>
        <item>
            <title><![CDATA[Nimbus - checkpoint sync, era files, Vouch]]></title>
            <link>https://nimbus.team/nimbus-update-march</link>
            <guid>https://nimbus.team/nimbus-update-march</guid>
            <pubDate>Wed, 02 Mar 2022 10:00:00 GMT</pubDate>
            <description><![CDATA[header-image]]></description>
            <content:encoded><![CDATA[<p></p><div class="wrapper_SWrM active_qZD5"><img loading="lazy" alt="header-image" src="/assets/images/header-775b2b79f51f11d203571a78ad36ff49.jpeg" width="2000" height="1339" class="img_ev3q"><button class="fullscreenButton_Bocn lsd-icon-button lsd-icon-button--medium lsd-icon-button--outlined"><div class="icon_S7Kx m_thRi"><svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg" role="img"><path d="M1.75 2.917V5.25h1.167V2.917H5.25V1.75H2.917A1.17 1.17 0 0 0 1.75 2.917ZM2.917 8.75H1.75v2.333a1.17 1.17 0 0 0 1.167 1.167H5.25v-1.167H2.917V8.75Zm8.166 2.333H8.75v1.167h2.333a1.17 1.17 0 0 0 1.167-1.167V8.75h-1.167v2.333Zm0-9.333H8.75v1.167h2.333V5.25h1.167V2.917a1.17 1.17 0 0 0-1.167-1.167Z" fill="#fff"></path></svg></div></button></div><p></p><p><em>(image of the <a href="https://en.m.wikipedia.org/wiki/Lennon_Wall" target="_blank" rel="noopener noreferrer">Lennon Wall</a> courtesy of <a href="https://ifmsa.org/wall-peace-freedom/" target="_blank" rel="noopener noreferrer">IFMSA</a>)</em>  </p><p><em>As these notes were being written, Putin's senseless war in Ukraine left nobody untouched and Status is no exception: Our Ukrainian contributors have been forced into bomb shelters with their families as brutalities increase: here are several ways that you can help: <a href="https://hrf.org/how-to-support-ukrainians/" target="_blank" rel="noopener noreferrer">https://hrf.org/how-to-support-ukrainians/</a></em>  </p><p><em>In addition, &nbsp;a growing number of civilians in Russia and Ukraine are using the Tor project to communicate, access news, and get around censorship. You can help them by setting up a Tor bridge: <a href="https://community.torproject.org/relay/setup/bridge/" target="_blank" rel="noopener noreferrer">https://community.torproject.org/relay/setup/bridge/</a></em></p><p>Two weeks ago we published Nimbus <code>v1.7.0</code>, a particularly feature-packed <a href="https://github.com/status-im/nimbus-eth2/releases/tag/v1.7.0" target="_blank" rel="noopener noreferrer">release</a> for our consensus layer client.  </p><blockquote><p>"So far, so good" <a href="https://t.co/g7L62tq8jy" target="_blank" rel="noopener noreferrer">https://t.co/g7L62tq8jy</a> <a href="https://t.co/ahshpXUZaq" target="_blank" rel="noopener noreferrer">pic.twitter.com/ahshpXUZaq</a></p><p>— Jacek Sieka (@jcksie) <a href="https://twitter.com/jcksie/status/1494381339273056259?ref_src=twsrc%5Etfw" target="_blank" rel="noopener noreferrer">February 17, 2022</a></p></blockquote><p>If you haven't done so already, we encourage you to view the <a href="https://github.com/status-im/nimbus-eth2/releases/tag/v1.7.0" target="_blank" rel="noopener noreferrer">full release notes</a> for all the gory details.  </p><p>There are a handful of important topics however, that were not covered in the notes that we feel are worth exploring in longer form.</p><p>In particular, we'd like to open up a discussion on <strong>how to improve the security of checkpoint sync</strong>, and another on <strong>how to go about fetching historical data queries in a post EIP-4444 world.</strong></p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="insecura-network-or-how-to-exploit-checkpoint-sync">#<a href="#insecura-network-or-how-to-exploit-checkpoint-sync">Insecura network (or how to exploit checkpoint sync)</a><a href="#insecura-network-or-how-to-exploit-checkpoint-sync" class="hash-link" aria-label="Direct link to insecura-network-or-how-to-exploit-checkpoint-sync" title="Direct link to insecura-network-or-how-to-exploit-checkpoint-sync">​</a></h3><blockquote><p>Oh no! A malicious duck has taken over 12000 validator keys from a large custodial operator on the <a href="https://twitter.com/hashtag/eth2?src=hash&amp;ref_src=twsrc%5Etfw" target="_blank" rel="noopener noreferrer">#eth2</a> pyrmont network, and is now offering a much more master-node oriented vision for the beacon chain, named "insecura" - what happened here?</p><p>— Jacek Sieka (@jcksie) <a href="https://twitter.com/jcksie/status/1484632785671397379?ref_src=twsrc%5Etfw" target="_blank" rel="noopener noreferrer">January 21, 2022</a></p></blockquote><p>One of the infamous attacks on Proof-of-Stake is the so-called long-range attack, where keys that have been compromised are used to create a new history that honest nodes (who have been offline for a sufficient amount of time) accept as valid.</p><blockquote><p>I don't think that's right, eg if you have a long-range PoS attack where somebody gathered up keys from 3 years ago to make a new history, everybody knows which chain is legit and which is the dodgy chain, but you have to look at evidence outside the protocol to prove it</p><p>— Edmund Edgar (@edmundedgar) <a href="https://twitter.com/edmundedgar/status/1151042417665159168?ref_src=twsrc%5Etfw" target="_blank" rel="noopener noreferrer">July 16, 2019</a></p></blockquote><p>How could this happen in practice? The long and the short of it is that the beacon chain has a liveness mechanism which exits inactive validators. It's possible for a minority player to abuse this mechanism to create a history in which all validators except their own are forced to exit, thereby turning their minority into a majority (on their fork).</p><p>Once such a fork exists, the idea is that an attacker could then try to exploit <a href="https://blog.ethereum.org/2014/11/25/proof-stake-learned-love-weak-subjectivity/" target="_blank" rel="noopener noreferrer">weak subjectivity</a> to get other nodes to accept it as authentic.</p><p>Fortunately, weak subjectivity, as originally thought out, is quite resistant to such an attack. As long as less than 1/3 of the keys at the time of the fork are compromised, the honest nodes provide a much more plausible history than the attacker's: because in contrast to the attacker's chain which contains a long period of non-finality during which the honest validators are seeing their stake leaked, the honest nodes have a finalising chain.</p><p>Even if a single attacker controls more than 2/3 of all keys that were active at the point of the hostile fork, it's not clear that they will be able to succeed in convincing the network that their alternative history is correct. In particular, if an honest node isn't being <a href="https://www.cs.bu.edu/~goldbe/projects/eclipseEth" target="_blank" rel="noopener noreferrer">eclipsed</a>, it will still likely choose the canonical chain simply because there are more peers serving it.</p><p>However, it turns out that <strong>checkpoint sync changes things quite drastically</strong>. In particular, it's not clear whether the above argument still holds. This is quite counter-intuitive. After all, why should passing in a URL rather than a hash make all that much difference to the security assumptions of the network?</p><p>As is often the case with security assumptions, the devil lies in the details. What it boils down to is the following: we've subtly shifted the expected behaviour from &nbsp;"getting a block hash from a friend" (as articulated in <a href="https://blog.ethereum.org/2014/11/25/proof-stake-learned-love-weak-subjectivity/" target="_blank" rel="noopener noreferrer">Vitalik's original post on Weak Subjectivity</a>) to "trusting a URL from one of a handful of centralised entities". This has important consequences.</p><p>To paraphrase Jacek here, <strong>checkpoint sync teaches users to pass a single URL from a centralised entity (think Infura or Etherscan) to the beacon node</strong>.</p><p><strong>If this URL is compromised (think a security breach at a centralised entity), an attacker can feed the client any state they wish</strong>, and the client will “believe” it as long as it passes some basic sanity checks. In particular, the attacker can pass the user a state that has finalised an alternative history (in other words, a different point from where the canonical validators are).</p><p>If a node starts syncing from this compromised state, it will end up rejecting any connections to, and blocks from, the honest and correct peers it comes across. It will only be able to accept compromised or dishonest peers, because the attacker's chain is finalised at a point which cannot be reconciled with the canonical one.</p><p>Fortunately, Jacek points out that the way this particular issue arises can be detected in a number of ways. In particular, such an attack provides us with several red flags along the way (see the <a href="https://ethresear.ch/t/insecura-my-consensus-for-the-pyrmont-network/11833" target="_blank" rel="noopener noreferrer">end of this post</a> for a full articulation).</p><p>Danny Ryan has posted some <a href="https://notes.ethereum.org/@djrtwo/ws-sync-in-practice" target="_blank" rel="noopener noreferrer">further ideas</a> on how we might go about addressing this problem. Two of the most interesting paths forward include:</p><ul><li><strong>N participant checkpoint download</strong>: instead of relying on the trustworthiness of one centralised entity, query N entities and check for unanimity</li><li><strong>Design a way for the bootnodes to include checkpoints in their published ENRs</strong> -- for example by adding an optional <code>wsr</code> (weak-subjectivity-root) field. Note that we can't simply rely on querying bootnodes since they are almost always at their peer limits. In other words, we can't assume that all clients will be able to maintain a connection to a bootnode.  </li></ul><p>We think it's time to move this discussion forward.  </p><p><em>If you'd like to get into the weeds here, be sure to check out Jacek's <a href="https://ethresear.ch/t/insecura-my-consensus-for-the-pyrmont-network/11833" target="_blank" rel="noopener noreferrer">detailed writeup</a> on ethresearch. He has actually carried out this attack on Pyrmont, and the post takes you through how this was done.</em></p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="era-files-a-proposed-solution-to-historical-data-queries">Era files (a proposed solution to historical data queries)<a href="#era-files-a-proposed-solution-to-historical-data-queries" class="hash-link" aria-label="Direct link to Era files (a proposed solution to historical data queries)" title="Direct link to Era files (a proposed solution to historical data queries)">​</a></h3><p>Ethereum clients currently store <a href="https://twitter.com/lightclients/status/1462576173213372417" target="_blank" rel="noopener noreferrer">275 GB</a> of historical data. But this data is not actually needed to validate the chain.</p><p>It's growing at a rate of around 140 GB per year, and is set to accelerate in a post-merge world. <a href="https://eips.ethereum.org/EIPS/eip-4444" target="_blank" rel="noopener noreferrer">EIP-4444</a> is a proposal that seeks to address this data bloat by having clients prune data older than 1 year.</p><p>However, some valid concerns have been voiced by the community. In particular, it's not clear how much is lost from preventing nodes from serving historical data over the p2p layer (something EIP-4444 explicitly mandates).  </p><blockquote><p>I used to have the ability to download and validate the full history and state just by setting a flag in geth. With these changes, default nodes will refuse to serve it to me. It may not matter for ”most”, but some of us care about it and do it.</p><p>— Eric Wall (@ercwl) <a href="https://twitter.com/ercwl/status/1466459300096794627?ref_src=twsrc%5Etfw" target="_blank" rel="noopener noreferrer">December 2, 2021</a></p></blockquote><p>In light of these concerns, Jacek's recent Era files proposal (see a <a href="https://github.com/status-im/nimbus-eth2/pull/3394" target="_blank" rel="noopener noreferrer">draft PR here</a>) can be seen as a middle ground of sorts.  </p><blockquote><p>In <a href="https://twitter.com/hashtag/eth?src=hash&amp;ref_src=twsrc%5Etfw" target="_blank" rel="noopener noreferrer">#eth</a>, it's widely recognized that having every node sync the full history via p2p is not sustainable, and proposals like rent and EIP-4444 aim to put bounds on what "live" clients must support. However, it's also widely recognized that the historical data is useful! 1/n</p><p>— Jacek Sieka (@jcksie) <a href="https://twitter.com/jcksie/status/1493524432719073284?ref_src=twsrc%5Etfw" target="_blank" rel="noopener noreferrer">February 15, 2022</a></p></blockquote><p>What exactly is an era file? To borrow Jacek's words, an era file is simply a day of blocks followed by the data needed to recreate consensus at that point: <strong>if you have a synced node that knows the current beacon chain head, the data in era files can be used to recreate the fully verified historical state for that time range.</strong></p><p>Era files, once created, are easily identifiable, immutable and idempotent: <strong>anyone with a fully synced node can create and/or verify one</strong>, and they can be shared by untrusted third-parties without introducing any new security problems.</p><p>Importantly, in an era file future the database remains as the source of truth for security purposes -- it stores the latest synced head root which in turn determines where a node "starts" its consensus participation. The era directory however can be freely shared between nodes / people without any (significant) security implications, assuming the era files are consistent (i.e. not broken).  </p><p>It's important to point out that, for now, era files cover only consensus -- in other words, not the full Ethereum state.</p><p>Post-merge, they'll start covering block data, but still won't cover the Ethereum state. Supporting the full EIP 4444 world is an open research topic. But focusing on consensus solves an important part of the problem: that is, knowing which state is relevant; this turns the broader problem into a tractable one.</p><p>Ideas for future improvements include serving the era files via REST: unlike the current implementation which downloads block by block, downloading an era at a time would almost entirely cut out request overhead.</p><p>One natural question to ask is how do era files affect the disk storage requirements for nodes?</p><p>It turns that the answer depends on the type of node you're running, as well as on how the relevant metaparameters are chosen.</p><blockquote><p>today (~1TB) to get "mostly equivalent" functionality, but more importantly, it stops growing there, by and large, for the "normal" participant .. light nodes would use a lot less etc..</p><p>— Jacek Sieka (@jcksie) <a href="https://twitter.com/jcksie/status/1493567566178103299?ref_src=twsrc%5Etfw" target="_blank" rel="noopener noreferrer">February 15, 2022</a></p></blockquote><p>We'd love to hear some thoughtful feedback at this stage. Is this a good idea or not? Where can it be improved? What is it missing?</p><p><em>Additionally, we believe era files (or something similar) have a role to play at the execution (eth1) level. These (torrented) files could then be used to seed <a href="https://our.status.im/nimbus-fluffly/" target="_blank" rel="noopener noreferrer">the Portal network</a>. In fact, the Portal network has recently shifted priority, from working on State network to chain history, mostly due to EIP-4444. See <a href="https://snakecharmers.ethereum.org/the-aperture-vol-4/" target="_blank" rel="noopener noreferrer">here</a> for a general update.<br></em></p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="a-libp2p-protocol-for-light-client-sync">A libp2p protocol for light client sync<a href="#a-libp2p-protocol-for-light-client-sync" class="hash-link" aria-label="Direct link to A libp2p protocol for light client sync" title="Direct link to A libp2p protocol for light client sync">​</a></h3><p>We've published a <a href="https://github.com/status-im/nimbus-eth2/pull/3341" target="_blank" rel="noopener noreferrer">draft implementation</a> of our proposed (server side) libp2p protocol for light client sync.</p><blockquote><p>If one had to pick one PR to tell the story why <a href="https://twitter.com/ethnimbus?ref_src=twsrc%5Etfw" target="_blank" rel="noopener noreferrer">@ethnimbus</a> was started as a project, this for sure comes close.. <a href="https://t.co/gnJV4Vnr6m" target="_blank" rel="noopener noreferrer">https://t.co/gnJV4Vnr6m</a></p><p>— Jacek Sieka (@jcksie) <a href="https://twitter.com/jcksie/status/1493497173555748865?ref_src=twsrc%5Etfw" target="_blank" rel="noopener noreferrer">February 15, 2022</a></p></blockquote><p>Light clients require full nodes to serve additional data so that they can stay in sync with the network. This draft contains a new launch option <code>--serve-light-client-data</code> which allows a full node to collect and disseminate the relevant data to light clients.</p><p>It's an implementation of our <a href="https://github.com/ethereum/consensus-specs/pull/2802" target="_blank" rel="noopener noreferrer">recent contribution</a> to the consensus specs.</p><p>For some context, the Altair specs needed updating, because while they did define structures to aid light client development, they were missing the network protocol definition.</p><p>In order to fill this gap, Etan <a href="https://github.com/ethereum/consensus-specs/pull/2802" target="_blank" rel="noopener noreferrer">introduced a libp2p based protocol</a> to allow light clients to sync to the latest <code>BeaconBlockHeader</code> in a trustless and decentralised manner. This builds on top of prior work from both <a href="https://github.com/ethereum/consensus-specs/pull/2267" target="_blank" rel="noopener noreferrer">Hsiao-Wei Wang</a> and <a href="https://github.com/ethereum/consensus-specs/pull/2786" target="_blank" rel="noopener noreferrer">Jin Huang</a>. You can <a href="https://github.com/status-im/nimbus-eth2/pull/3341" target="_blank" rel="noopener noreferrer">keep track of Etan's PR here</a>.</p><p><em><strong>Useful context:</strong> towards the end of last year, we wrote about <a href="https://our.status.im/light-nodes-ethereum-endgame/" target="_blank" rel="noopener noreferrer">how crucial light clients are to a post-merge Ethereum</a>. In a separate post we also touched on how this will be <a href="https://our.status.im/nimbus-consensus-layer-2122/" target="_blank" rel="noopener noreferrer">an area of focus</a> for us going forward.</em></p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="vouch-support">Vouch support<a href="#vouch-support" class="hash-link" aria-label="Direct link to Vouch support" title="Direct link to Vouch support">​</a></h3><p>Last, but not least, we are now fully compatible with Vouch! A big shout out to Jim who has tirelessly been helping us test, stress and verify compatibility of our <a href="https://nimbus.guide/rest-api.html" target="_blank" rel="noopener noreferrer">REST API</a> implementation.  </p><blockquote><p>Just released Vouch 1.4.0 with support for <a href="https://twitter.com/ethnimbus?ref_src=twsrc%5Etfw" target="_blank" rel="noopener noreferrer">@ethnimbus</a>. Excited to add another beacon node to the mix.</p><p>— Jim McDonald (@jgm) <a href="https://twitter.com/jgm/status/1495823836704653325?ref_src=twsrc%5Etfw" target="_blank" rel="noopener noreferrer">February 21, 2022</a></p></blockquote><p>Since Vouch seems to be becoming a standard of sorts for staking providers, this is great news for client diversity: it's now seamless for providers that use Vouch to add Nimbus as an alternative client.  </p><p>Vouch also allows for other validator clients to run with Nimbus as their beacon node. For example, <a href="https://github.com/sigp/lighthouse/pull/2980#issuecomment-1027392931" target="_blank" rel="noopener noreferrer">Lighthouse has successfully run their VC with a Nimbus BN</a>.</p><p>We're currently talking with several providers regarding what they can do to add Nimbus to their fleet. If you are a provider, and considering adding Nimbus to yours, please get in touch with us at <a href="mailto:nimbus@status.im" target="_blank" rel="noopener noreferrer">nimbus@status.im</a>, or alternatively reach out to us <a href="https://discord.gg/j3nYBUeEad" target="_blank" rel="noopener noreferrer">on our discord</a>. We're more than happy to answer any questions you may have and provide you with any guidance and support you may need.</p>]]></content:encoded>
        </item>
        <item>
            <title><![CDATA[Nimbus Consensus Layer - past, present, and future]]></title>
            <link>https://nimbus.team/nimbus-consensus-layer-2122</link>
            <guid>https://nimbus.team/nimbus-consensus-layer-2122</guid>
            <pubDate>Thu, 13 Jan 2022 10:00:00 GMT</pubDate>
            <description><![CDATA[header-image]]></description>
            <content:encoded><![CDATA[<p></p><div class="wrapper_SWrM active_qZD5"><img loading="lazy" alt="header-image" src="/assets/images/header-7ec6f1f71d99b03e469ef311f801437a.png" width="647" height="582" class="img_ev3q"><button class="fullscreenButton_Bocn lsd-icon-button lsd-icon-button--medium lsd-icon-button--outlined"><div class="icon_S7Kx m_thRi"><svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg" role="img"><path d="M1.75 2.917V5.25h1.167V2.917H5.25V1.75H2.917A1.17 1.17 0 0 0 1.75 2.917ZM2.917 8.75H1.75v2.333a1.17 1.17 0 0 0 1.167 1.167H5.25v-1.167H2.917V8.75Zm8.166 2.333H8.75v1.167h2.333a1.17 1.17 0 0 0 1.167-1.167V8.75h-1.167v2.333Zm0-9.333H8.75v1.167h2.333V5.25h1.167V2.917a1.17 1.17 0 0 0-1.167-1.167Z" fill="#fff"></path></svg></div></button></div><p></p><p><em>the image above shows 40 of our dependencies purpose built by us for Nimbus and the wider Status ecosystem</em></p><blockquote><p>It's happening! <a href="https://twitter.com/hashtag/eth2?src=hash&amp;ref_src=twsrc%5Etfw" target="_blank" rel="noopener noreferrer">#eth2</a> genesis is upon us - stay tuned as we prepare a release with everything necessary to run <a href="https://twitter.com/ethnimbus?ref_src=twsrc%5Etfw" target="_blank" rel="noopener noreferrer">@ethnimbus</a>!  </p><p>Thanks to researchers, supporters, other client teams and the community - we're in this together!</p><p>— Nimbus (@ethnimbus) <a href="https://twitter.com/ethnimbus/status/1331116128870031360?ref_src=twsrc%5Etfw" target="_blank" rel="noopener noreferrer">November 24, 2020</a></p></blockquote><p>One year later, and we've barely had a moment to catch our breath!  </p><p>Since the launch of the Beacon chain last December, we've made a ton of improvements and added a bunch of features to our software. The difference between running a Nimbus node today and back then is night and day.</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="2021-highlights">2021 Highlights<a href="#2021-highlights" class="hash-link" aria-label="Direct link to 2021 Highlights" title="Direct link to 2021 Highlights">​</a></h3><p>Some high-level highlights from the last 12 months include:</p><ul><li>26 <a href="https://github.com/status-im/nimbus-eth2/releases" target="_blank" rel="noopener noreferrer">releases</a> without any major hiccups.  </li><li>A close to perfect track record for our internal fleet of validators.  </li><li>The first client to release both <a href="https://our.status.im/nimbus-update-v1-0-7-release/" target="_blank" rel="noopener noreferrer">doppelganger detection</a> and batched attestation verification.  </li><li>Successfully shifting the narrative around <a href="https://our.status.im/the-importance-of-client-diversity/" target="_blank" rel="noopener noreferrer">the importance of client diversity</a> and <a href="https://our.status.im/ethereum-is-green/" target="_blank" rel="noopener noreferrer">Ethereum's green credentials</a>.  </li><li><a href="https://eips.ethereum.org/EIPS/eip-3076" target="_blank" rel="noopener noreferrer">Influencing the direction</a> and making <a href="https://github.com/ethereum/consensus-specs/pull/2746#pullrequestreview-817674843" target="_blank" rel="noopener noreferrer">contributions</a> to both the spec and EIPs.  </li><li>Pushing the limits of what is possible with respect to both CPU and memory usage.</li></ul><p>As we touched on in our <a href="https://our.status.im/light-nodes-ethereum-endgame/" target="_blank" rel="noopener noreferrer">last post</a>, Nimbus' resource efficiency is not just a nice to have. If decentralisation is <a href="https://twitter.com/jadler0/status/1433985695396282372?ref_src=twsrc%5Etfw%7Ctwcamp%5Etweetembed%7Ctwterm%5E1433985695396282372%7Ctwgr%5E%7Ctwcon%5Es1_&amp;ref_url=https%3A%2F%2Four.status.im%2Fp%2Fdbab5f30-9e0b-49fb-84c7-ef7adb9d9455%2F" target="_blank" rel="noopener noreferrer">the cost to run a full node</a>, then resource efficiency is absolutely <a href="https://our.status.im/light-nodes-ethereum-endgame/" target="_blank" rel="noopener noreferrer">crucial to maintaining a sufficiently robust and decentralised network</a>. This is especially true in a post-merge world in which the community is expected to <a href="https://vitalik.ca/general/2021/12/06/endgame.html" target="_blank" rel="noopener noreferrer">keep block producers in check</a>.</p><p>To borrow Dankrad's words:</p><blockquote><p>I don't care about the absolute number of nodes.<br>
<!-- -->I care about the amount of transaction value that is fully secured. That means the user is either running a full node or a fraud proof-protected light client.</p><p>— Dankrad Feist (@dankrad) <a href="https://twitter.com/dankrad/status/1415424096024858624?ref_src=twsrc%5Etfw" target="_blank" rel="noopener noreferrer">July 14, 2021</a></p></blockquote><p>Today, Nimbus is able to run performantly on a single core of a Raspberry Pi 4 while also running Geth, RocketPool and monitoring software (Prometheus + Grafana) in the background. We expect this to keep holding true post merge.</p><blockquote><p>We are on it, <a href="https://twitter.com/go_ethereum?ref_src=twsrc%5Etfw" target="_blank" rel="noopener noreferrer">@go<!-- -->_<!-- -->ethereum</a> Geth + <a href="https://twitter.com/ethnimbus?ref_src=twsrc%5Etfw" target="_blank" rel="noopener noreferrer">@ethnimbus</a> in the same <a href="https://twitter.com/Raspberry_Pi?ref_src=twsrc%5Etfw" target="_blank" rel="noopener noreferrer">@Raspberry<!-- -->_<!-- -->Pi</a>. <a href="https://t.co/s2lg573Njh" target="_blank" rel="noopener noreferrer">https://t.co/s2lg573Njh</a></p><p>— Ethereum on ARM 🦇🔊 (@EthereumOnARM) <a href="https://twitter.com/EthereumOnARM/status/1407339958046765061?ref_src=twsrc%5Etfw" target="_blank" rel="noopener noreferrer">June 22, 2021</a></p></blockquote><p>Perhaps one final thing worth mentioning here is that our language of choice, Nim, has required us to build out nearly all the <a href="https://nimbus.team/docs/libraries.html" target="_blank" rel="noopener noreferrer">libraries</a> we rely on ourselves. In the light of recent NPM and Pypi registry attacks, we believe this to be a key strength of ours relative to other clients.  </p><p>We have very few external dependencies. And these dependencies are all fuzzed, audited, formally verified, &nbsp;or have similar rock solid guarantees.</p><blockquote><p>Curious which libraries Nimbus depends on? <!-- -->`<!-- -->make deps<!-- -->`<!-- --> shows the full transitive list with the exact version, including the <a href="https://twitter.com/nim_lang?ref_src=twsrc%5Etfw" target="_blank" rel="noopener noreferrer">@nim<!-- -->_<!-- -->lang</a> compiler - there is 61 of them right now, counting several that are used only for testing - 40 were purpose-built by <a href="https://twitter.com/ethstatus?ref_src=twsrc%5Etfw" target="_blank" rel="noopener noreferrer">@ethstatus</a>! <a href="https://t.co/L407vmQKZK" target="_blank" rel="noopener noreferrer">pic.twitter.com/L407vmQKZK</a></p><p>— Nimbus (@ethnimbus) <a href="https://twitter.com/ethnimbus/status/1480500108810674176?ref_src=twsrc%5Etfw" target="_blank" rel="noopener noreferrer">January 10, 2022</a></p></blockquote><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="icing-on-the-cake">Icing on the cake<a href="#icing-on-the-cake" class="hash-link" aria-label="Direct link to Icing on the cake" title="Direct link to Icing on the cake">​</a></h3><p>Having thought deeply about, and written extensively on <a href="https://medium.com/dappnode/guardians-of-ethereum-a-validator-dao-proposal-d82e76231b45" target="_blank" rel="noopener noreferrer">the importance of trustless staking pools</a>, the icing on the cake for us last year was, without a doubt, the launch of Rocket Pool.</p><p>After everything the team has been through, notably the <a href="https://medium.com/rocket-pool/the-merge-0x02-mev-and-the-future-of-the-protocol-c7451337ec40" target="_blank" rel="noopener noreferrer">drama</a> around <code>0x02</code>, it was truly wonderful to see their vision of a trustless and community owned staking pool start to take shape.</p><p>We were especially happy to see that, by some estimates, Nimbus is the second most popular Rocket Pool client.</p><blockquote><p>218 <a href="https://twitter.com/Rocket_Pool?ref_src=twsrc%5Etfw" target="_blank" rel="noopener noreferrer">@Rocket<!-- -->_<!-- -->Pool</a> proposals, four weeks in: <a href="https://t.co/HrLZrjCWWC" target="_blank" rel="noopener noreferrer">pic.twitter.com/HrLZrjCWWC</a></p><p>— superphiz.eth 🦇🔊🐼 (@superphiz) <a href="https://twitter.com/superphiz/status/1467978840278503429?ref_src=twsrc%5Etfw" target="_blank" rel="noopener noreferrer">December 6, 2021</a></p></blockquote><p>Thank you Joe Clapis for everything you've done to red-pill the community into using Nimbus :)</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="zooming-in-on-last-quarter">Zooming in on last quarter<a href="#zooming-in-on-last-quarter" class="hash-link" aria-label="Direct link to Zooming in on last quarter" title="Direct link to Zooming in on last quarter">​</a></h3><p>In case you haven't kept up with our <a href="https://github.com/status-im/nimbus-eth2/releases" target="_blank" rel="noopener noreferrer">latest releases</a>, arguably the three most important features shipped last quarter were:</p><ul><li>Support for the <code>web3signer</code> protocol (currently in BETA)</li><li>A feature complete <code>rest</code> API (still ironing out a few issues)</li><li>A <code>--num-threads</code> option which allows Nimbus to take advantage of multiple CPU cores</li></ul><p><code>v1.5.5</code> alone saw three significant optimisations worth highlighting here:</p><ul><li>A 6x speed-up in epoch processing</li><li>A 2x speed up in Altair block processing</li><li>A 12% reduction in outgoing GossipSub traffic (bandwidth reduction).</li></ul><blockquote><p>A calm-after-the-altair-storm release with lots of polish across the board - big drop in outgoing network traffic thanks to an elegant libp2p optimization, more flexibility in the REST interface allows you to use Nimbus with a growing amount of 3rd party tools, web3signer.. <a href="https://t.co/RTerT29ijA" target="_blank" rel="noopener noreferrer">https://t.co/RTerT29ijA</a></p><p>— Jacek Sieka (@jcksie) <a href="https://twitter.com/jcksie/status/1467938248936804356?ref_src=twsrc%5Etfw" target="_blank" rel="noopener noreferrer">December 6, 2021</a></p></blockquote><p>Both <code>web3signer</code> support and the <code>rest</code> API pave the way for wider adoption of Nimbus. <code>web3signer</code> by allowing for staking pools and other providers with a custom key handling strategy to use Nimbus. And the <code>rest</code> API by allowing for third-party validator clients such as <a href="https://www.attestant.io/posts/introducing-vouch/" target="_blank" rel="noopener noreferrer">Vouch</a> (or any other validator client for that matter) to use Nimbus as their beacon node.</p><p>Special thanks to Jim Mcdonald (@jgm) for helping us test the REST server: It is in large part thanks to your testing that we managed to get to the finish line!</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="going-forward">Going forward<a href="#going-forward" class="hash-link" aria-label="Direct link to Going forward" title="Direct link to Going forward">​</a></h3><p>There is so much to look forward to in 2022. Here's a quick overview of our priorities:</p><ul><li><strong>The merge, then sharding</strong>: the main focus here is on the stellar and timely execution of the <a href="https://github.com/ethereum/consensus-specs/tree/dev/specs/merge" target="_blank" rel="noopener noreferrer">merge</a> followed by the <a href="https://github.com/ethereum/consensus-specs/blob/dev/specs/sharding/beacon-chain.md" target="_blank" rel="noopener noreferrer">sharding</a> specs.</li><li><strong>Wider adoption</strong>: we have a new business development unit (welcome <a href="https://twitter.com/liftlines" target="_blank" rel="noopener noreferrer">Kausha</a>l!) devoted to increasing adoption. The initial focus will be on providing support for staking pools and providers who wish to adopt Nimbus ( a number of which have already committed to running Nimbus this year).</li><li><strong>Diversity++:</strong> this will mainly involve implementing all standards which seek to promote client diversity &nbsp;(e.g. the development of cross-client UIs, migration tools, and the <a href="https://ssv.network/" target="_blank" rel="noopener noreferrer">SSV</a> network).</li><li><strong>The great rebranding</strong>: we want people to realise at a glance that Nimbus is great for far more than just resource-restricted devices. And, in particular, that there are important advantages to using it for enterprise grade infrastructure. This requires rethinking our branding and how we talk about ourselves.</li><li><strong>Privacy</strong>: as part of Status, caring about privacy is in our DNA. We plan on exploring how we can leverage our work on <a href="https://rfc.vac.dev/spec/10/" target="_blank" rel="noopener noreferrer">Waku</a> in order to <a href="https://github.com/libp2p/specs/issues/374" target="_blank" rel="noopener noreferrer">bring more privacy to validators at the networking layer</a>.</li><li><strong>A Nimbus focused UI</strong>: we are committing serious resources towards a Nimbus UI which will be an integral part of the Status product roadmap moving forward. Our focus here is on user-friendly approaches for creating, managing, and monitoring validators (no CLI experience needed).</li></ul><p>This year will also see us increasingly focused on lowering the technical barriers to running a full node (both consensus and execution) as well as pushing forward with our <a href="https://github.com/etan-status/nimbus-eth2/compare/merkle-multiproof...etan-status:lightclient-api" target="_blank" rel="noopener noreferrer">light client implementation</a> (keep track of our progress <a href="https://github.com/status-im/nimbus-eth2/issues/2337#issuecomment-967153855" target="_blank" rel="noopener noreferrer">here</a>).</p><p>As we mentioned in our <a href="https://our.status.im/nimbus-execution-layer/" target="_blank" rel="noopener noreferrer">execution layer recap</a>, one of our main design goals is to make it as easy as possible for our consensus and execution clients to be bundled into a single piece of software. With the Nimbus UI, you'll be able &nbsp;to manage and monitor your node straight from the Status Desktop app.</p><blockquote><p>I can't wait to run Nimbus straight from Status Desktop <a href="https://twitter.com/hashtag/hyped?src=hash&amp;ref_src=twsrc%5Etfw" target="_blank" rel="noopener noreferrer">#hyped</a></p><p>— Jarrad Hope (@0xc1c4da) <a href="https://twitter.com/0xc1c4da/status/1293473249347555334?ref_src=twsrc%5Etfw" target="_blank" rel="noopener noreferrer">August 12, 2020</a></p></blockquote><p><a href="https://our.status.im/light-nodes-ethereum-endgame/" target="_blank" rel="noopener noreferrer">Complementary to this vision</a> (and part of our longer-term UI roadmap) is an embedded light client running on your mobile phone.</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="more-thank-yous">More thank yous<a href="#more-thank-yous" class="hash-link" aria-label="Direct link to More thank yous" title="Direct link to More thank yous">​</a></h3><p>We want to end by saying a big thank you to the Ethereum Foundation for the unbelievably generous incentive program they <a href="https://blog.ethereum.org/2021/12/13/client-incentive-program/" target="_blank" rel="noopener noreferrer">announced</a> towards the end of last year. We are truly humbled to be valued by you in this way.</p><p>A big thank you to all the node runners using Nimbus, without you our work would be, quite frankly, meaningless.</p><p>And, last but by no means least, a big thank you to all our <a href="https://gitcoin.co/grants/137/nimbus" target="_blank" rel="noopener noreferrer">Gitcoin supporters</a>: even more important than the financial, is the moral support; the appreciation we feel from every single one of you, each GR round, keeps our spirits high when the going feels tough.  </p><p>We wish you all the very best of luck this coming year.</p>]]></content:encoded>
        </item>
        <item>
            <title><![CDATA[The importance of light nodes in Vitalik's endgame]]></title>
            <link>https://nimbus.team/light-nodes-ethereum-endgame</link>
            <guid>https://nimbus.team/light-nodes-ethereum-endgame</guid>
            <pubDate>Fri, 10 Dec 2021 10:00:00 GMT</pubDate>
            <description><![CDATA[Ethereum can support both full nodes and light clients, it contains a peer to peer layer which allows nodes to send messages to each other.]]></description>
            <content:encoded><![CDATA[<p></p><div class="wrapper_SWrM active_qZD5"><img loading="lazy" alt="header-image" src="/assets/images/header-2641a1d34eeb1ad7a9a839000e247705.png" width="720" height="577" class="img_ev3q"><button class="fullscreenButton_Bocn lsd-icon-button lsd-icon-button--medium lsd-icon-button--outlined"><div class="icon_S7Kx m_thRi"><svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg" role="img"><path d="M1.75 2.917V5.25h1.167V2.917H5.25V1.75H2.917A1.17 1.17 0 0 0 1.75 2.917ZM2.917 8.75H1.75v2.333a1.17 1.17 0 0 0 1.167 1.167H5.25v-1.167H2.917V8.75Zm8.166 2.333H8.75v1.167h2.333a1.17 1.17 0 0 0 1.167-1.167V8.75h-1.167v2.333Zm0-9.333H8.75v1.167h2.333V5.25h1.167V2.917a1.17 1.17 0 0 0-1.167-1.167Z" fill="#fff"></path></svg></div></button></div><p></p><p><em>image courtesy of <a href="https://vitalik.ca/general/2021/12/06/endgame.html" target="_blank" rel="noopener noreferrer">Vitalik's endgame post</a></em></p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="preface">Preface<a href="#preface" class="hash-link" aria-label="Direct link to Preface" title="Direct link to Preface">​</a></h3><p>Ethereum can support both full nodes and light clients, it contains a peer to peer layer which allows nodes to send messages to each other. While Ethereum's current architecture is not particularly well-suited to light clients, the beacon chain architecture is. This means that post-merge, they will have an important role to play. A light client is a cheaper alternative to a full node (from a bandwidth and resource consumption perspective) since it only downloads the header from each block and trusts the full nodes to check that the state transitions are correct (in other words, a light client trusts the full nodes it is peered with to verify that the block producer hasn't tried to print new coins, &nbsp;spend coins from an address for which they don’t have the private key, or make larger blocks than the consensus rules allow them to do). This does beg the question however: under what assumptions are light clients able to protect themselves from malicious block producers?</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="relaxing-assumptions">Relaxing assumptions<a href="#relaxing-assumptions" class="hash-link" aria-label="Direct link to Relaxing assumptions" title="Direct link to Relaxing assumptions">​</a></h3><p>In <a href="https://vitalik.ca/general/2021/12/06/endgame.html" target="_blank" rel="noopener noreferrer">the endgame</a>, we expect that most individuals will transact on Ethereum using light clients without even knowing it. For example, the plan has always been for the <a href="https://status.im/get/" target="_blank" rel="noopener noreferrer">Status mobile app</a> to come integrated with a light version of Nimbus.  </p><p>Since light clients typically only download block headers, and don’t verify transactions themselves, we are used to thinking of them as having weak security guarantees compared to full nodes: under the conventional model, they are forced to rely on an honest majority assumption (which means they must assume the chain is valid by default).  </p><p>However, it turns out that we can do significantly better than that.</p><p>Thanks to the magic of <a href="https://arxiv.org/abs/1809.09044" target="_blank" rel="noopener noreferrer">fraud and data availability proofs</a>, we can relax the honest majority assumption, and make a 1/N honesty assumption instead. Practically speaking this means a light client only needs to be peered with a <em>single</em> honest full node in order to inherit almost the same security guarantees. In the rest of this post we will refer to this genre of light client as a <em>light node</em>.</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="a-light-sketch">A light sketch<a href="#a-light-sketch" class="hash-link" aria-label="Direct link to A light sketch" title="Direct link to A light sketch">​</a></h3><p>While we won't get into the <a href="https://dankradfeist.de/ethereum/2019/12/20/data-availability-checks.html" target="_blank" rel="noopener noreferrer">gory details</a> here, here's a light sketch of how this works.</p><p>When a light node receives a block header, it <a href="https://coinmarketcap.com/alexandria/article/what-is-data-availability" target="_blank" rel="noopener noreferrer">probabilistically samples</a> enough shares from the <a href="https://blog.iden3.io/merkle-trees-visual-introduction.html" target="_blank" rel="noopener noreferrer">Merkle tree</a> that the Merkle root represents to convince itself that the entire tree is indeed available for full nodes to verify (in other words, the light node is able to verify that the block producer has not withheld any data from the network).</p><p>At the same time, it listens for fraud proofs – a small, and quickly verifiable proof that a specific transaction in a block is invalid – from the nodes it is peered with. A valid fraud proof convinces that light node that the Merkle root in the block header is in fact incorrect. In the absence of a valid fraud proof, it goes ahead and accepts the block header as truthful.</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="what-does-this-tell-us">What does this tell us?<a href="#what-does-this-tell-us" class="hash-link" aria-label="Direct link to What does this tell us?" title="Direct link to What does this tell us?">​</a></h3><p>The key takeaway here is that <strong>as long as a light node is peered with at least one honest full node, it has practically the same security guarantees as that full node</strong> (since it can expect to receive a fraud proof from it if the block header it receives is incorrect).</p><p>A more subtle insight to be gleaned here is the following: <strong>light nodes can only offer the same protection as full nodes if enough people run both light and full nodes.</strong> This is true because you need enough light nodes in the network to collectively recover blocks, and enough honest full nodes to give every light client a good chance of being connected to at least one of them.</p><p>It follows that to ensure a resilient network, one in which individuals transacting on Ethereum can detect if/when block producers are trying to <a href="https://dankradfeist.de/ethereum/2021/05/20/what-everyone-gets-wrong-about-51percent-attacks.html" target="_blank" rel="noopener noreferrer">change the rules</a> on them, we need to do two things:</p><ol><li>Make it dead simple to run a light node on mobile devices (and other resource-restricted devices).</li><li>Make it dead simple to run a full node on low-power commodity hardware (in particular this includes Raspberry Pis and everyday laptops).</li></ol><p>These two things become <strong>especially important in a world in which block production is centralised</strong> (the <a href="https://vitalik.ca/general/2021/12/06/endgame.html" target="_blank" rel="noopener noreferrer">likely endgame</a> we are heading for).</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="a-means-to-self-sovereignty">A means to self-sovereignty<a href="#a-means-to-self-sovereignty" class="hash-link" aria-label="Direct link to A means to self-sovereignty" title="Direct link to A means to self-sovereignty">​</a></h3><p>To fork <a href="https://twitter.com/jadler0/status/1433985695396282372?ref_src=twsrc%5Etfw%7Ctwcamp%5Etweetembed%7Ctwterm%5E1433985695396282372%7Ctwgr%5E%7Ctwcon%5Es1_&amp;ref_url=https%3A%2F%2Four.status.im%2Fp%2Fdbab5f30-9e0b-49fb-84c7-ef7adb9d9455%2F" target="_blank" rel="noopener noreferrer">the words</a> of John Adler: thanks to fraud proofs and data availability sampling, we can think of decentralisation as some function of the cost to run a full node and the cost to run a light node. Not because running either is anything special, but because they are a means to an end: self sovereignty<!-- -->*<!-- -->.  </p><p>*<!-- -->Self sovereignty in this context means that we, the community, are able to detect when block producers try to change the rules that we all agree on.</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="resources">Resources<a href="#resources" class="hash-link" aria-label="Direct link to Resources" title="Direct link to Resources">​</a></h3><ul><li><p><a href="https://ethresear.ch/t/beacon-chain-light-client-classification/11061" target="_blank" rel="noopener noreferrer">Beacon Chain Light Client Classification</a></p></li><li><p><a href="https://ethresear.ch/t/beacon-chain-light-client-networking/11063" target="_blank" rel="noopener noreferrer">Beacon Chain Light Client Networking</a></p></li><li><p><a href="https://notes.ethereum.org/@ralexstokes/S1RSe1JlF" target="_blank" rel="noopener noreferrer">Beacon Chain Light Client Design Doc</a></p></li><li><p><a href="https://notes.ethereum.org/@ralexstokes/S1RSe1JlF" target="_blank" rel="noopener noreferrer">Bootstrapping the Beacon Chain Light Client Ecosystem</a></p></li><li><p><a href="https://github.com/ethereum/consensus-specs/blob/dev/specs/altair/sync-protocol.md" target="_blank" rel="noopener noreferrer">Altair: Minimum Light Client Spec</a></p></li><li><p><a href="https://github.com/ChainSafe/eth2-light-client-demo/tree/dapplion/update-to-prater" target="_blank" rel="noopener noreferrer">Lodestar Light Client Demo</a></p></li><li><p><a href="https://github.com/status-im/nimbus-eth2/issues/2337" target="_blank" rel="noopener noreferrer">Nimbus Light Client Syncing Implementation</a></p></li><li><p><a href="https://github.com/etan-status/nimbus-eth2/compare/merkle-multiproof...etan-status:lightclient-api" target="_blank" rel="noopener noreferrer">Experimental Nimbus Light Client Server</a><br>
<!-- -->(expand the commit description ... for instructions on how to play with it)</p></li><li><p><a href="https://nimbus.guide/quick-start.html" target="_blank" rel="noopener noreferrer">Run a Nimbus Beacon Node</a>  </p></li></ul><p><em>Thanks to Barnabé Monnot and Ștefan Talpalaru for reading drafts of this.</em></p>]]></content:encoded>
        </item>
        <item>
            <title><![CDATA[Nimbus + Nethermind - Kintsugi tutorial]]></title>
            <link>https://nimbus.team/kintsugi-merge</link>
            <guid>https://nimbus.team/kintsugi-merge</guid>
            <pubDate>Tue, 23 Nov 2021 10:00:00 GMT</pubDate>
            <description><![CDATA[Ethereum can support both full nodes and light clients, it contains a peer to peer layer which allows nodes to send messages to each other.]]></description>
            <content:encoded><![CDATA[<p></p><div class="wrapper_SWrM active_qZD5"><img loading="lazy" alt="header-image" src="/assets/images/header-7023c134ddcb4cd0045fb43067dc7930.png" width="694" height="499" class="img_ev3q"><button class="fullscreenButton_Bocn lsd-icon-button lsd-icon-button--medium lsd-icon-button--outlined"><div class="icon_S7Kx m_thRi"><svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg" role="img"><path d="M1.75 2.917V5.25h1.167V2.917H5.25V1.75H2.917A1.17 1.17 0 0 0 1.75 2.917ZM2.917 8.75H1.75v2.333a1.17 1.17 0 0 0 1.167 1.167H5.25v-1.167H2.917V8.75Zm8.166 2.333H8.75v1.167h2.333a1.17 1.17 0 0 0 1.167-1.167V8.75h-1.167v2.333Zm0-9.333H8.75v1.167h2.333V5.25h1.167V2.917a1.17 1.17 0 0 0-1.167-1.167Z" fill="#fff"></path></svg></div></button></div><p></p><p><em>Diagram courtesy of Mikhail Kalinin's <a href="https://hackmd.io/@n0ble/consensus_api_design_space" target="_blank" rel="noopener noreferrer">Engine API design space</a> document. Note that this diagram dates from the Amphora era, and so is not strictly accurate. Nevertheless the general communication flow between consensus and execution for Kintsugi is the same.</em></p><blockquote><p>Kintsugi, also known as kintsukuroi, is the Japanese art of repairing broken pottery by mending the areas of breakage with lacquer dusted or mixed with powdered gold. <a href="https://t.co/M9BiJfLqLb" target="_blank" rel="noopener noreferrer">pic.twitter.com/M9BiJfLqLb</a></p><p>— Monica Zeng (@monicazng) <a href="https://twitter.com/monicazng/status/1332314234265477121?ref_src=twsrc%5Etfw" target="_blank" rel="noopener noreferrer">November 27, 2020</a></p></blockquote><p>The Merge November sprint – <em>Kintsugi -</em> has kicked off.  </p><p>Kintsugi <a href="http://spec.merge.wiki/" target="_blank" rel="noopener noreferrer">specs</a> and <a href="https://notes.ethereum.org/@djrtwo/kintsugi-milestones" target="_blank" rel="noopener noreferrer">milestones</a> were released earlier this month. And we, along with the other client teams, have started participating in the weekly rolling merge devnets in preparation for the more open and persistent testnet planned for early December.</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="kintsugi-spec-quick-recap">#<a href="#kintsugi-spec-quick-recap">Kintsugi spec: quick recap</a><a href="#kintsugi-spec-quick-recap" class="hash-link" aria-label="Direct link to kintsugi-spec-quick-recap" title="Direct link to kintsugi-spec-quick-recap">​</a></h3><p>Kintsugi incorporates all of the learnings (along with some minor adjustments) from the previous interop, <a href="https://blog.ethereum.org/2021/10/15/amphora-merge-milestone/" target="_blank" rel="noopener noreferrer">Amphora</a>.  </p><p>At a high-level, the scope of work on updating consensus layer client software to Kintsugi specification is as follows:</p><ul><li><p>Implement the new version of consensus-spec and pass all consensus-spec tests</p></li><li><p>Implement the new version of <a href="https://github.com/ethereum/execution-apis/blob/89070c4d6f2fbe125a906f0cca1fedda84b8a2a6/src/engine/specification.md" target="_blank" rel="noopener noreferrer">Engine API</a> method calls</p></li><li><p>Implement or update already existing implementation of the <a href="https://github.com/sigp/lighthouse/issues/2691" target="_blank" rel="noopener noreferrer">optimistic sync</a></p></li></ul><p>On the execution layer side, it looks like this:</p><ul><li><p>Implement the new version of <a href="https://eips.ethereum.org/EIPS/eip-3675" target="_blank" rel="noopener noreferrer">EIP-3675</a></p></li><li><p>Implement <a href="https://eips.ethereum.org/EIPS/eip-4399" target="_blank" rel="noopener noreferrer">EIP-4399</a></p></li><li><p>Implement the new version of <a href="https://github.com/ethereum/execution-apis/blob/89070c4d6f2fbe125a906f0cca1fedda84b8a2a6/src/engine/specification.md" target="_blank" rel="noopener noreferrer">Engine API</a> server</p></li></ul><blockquote><p>Support Ethereum ecosystem client diversity!  </p><p>Consider running:  </p><p>*<!-- --> Nethermind <a href="https://t.co/8A3bkliGAy" target="_blank" rel="noopener noreferrer">https://t.co/8A3bkliGAy</a> or Besu <a href="https://t.co/RNPpIXrVX3" target="_blank" rel="noopener noreferrer">https://t.co/RNPpIXrVX3</a> for an ethereum mainnet node  </p><p>*<!-- --> Nimbus <a href="https://t.co/8LWdsGEuKi" target="_blank" rel="noopener noreferrer">https://t.co/8LWdsGEuKi</a> or Teku <a href="https://t.co/mXUWTxKlPu" target="_blank" rel="noopener noreferrer">https://t.co/mXUWTxKlPu</a> if you're on the eth2 Medalla testnet</p><p>— vitalik.eth (@VitalikButerin) <a href="https://twitter.com/VitalikButerin/status/1293317390613110785?ref_src=twsrc%5Etfw" target="_blank" rel="noopener noreferrer">August 11, 2020</a></p></blockquote><p>In line with our commitment to client diversity, this tutorial will tackle how to run a Nimbus local testnet with Nethermind (if you wish to do the same with Geth, see <a href="https://github.com/status-im/nimbus-eth2/blob/unstable/docs/interop_merge.md" target="_blank" rel="noopener noreferrer">this document</a>).</p><p>We assume you have a working and up to date installation of Nimbus - if this is not the case, please start by following the instructions <a href="https://nimbus.guide/quick-start.html" target="_blank" rel="noopener noreferrer">here</a>.</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="1--install-dotnet">1- Install dotnet<a href="#1--install-dotnet" class="hash-link" aria-label="Direct link to 1- Install dotnet" title="Direct link to 1- Install dotnet">​</a></h3><p><a href="https://docs.nethermind.io/nethermind/" target="_blank" rel="noopener noreferrer">Nethermind</a> is a .NET Core-based Ethereum client, so the first step is to download dotnet.</p><div class="codeBlockContainer_EB2s codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:rgba(var(--lsd-surface-secondary), 0.08)"><div class="codeBlockContent_ugSV"><pre tabindex="0" class="prism-code language-text codeBlock_TWhw thin-scrollbar"><code class="codeBlockLines_LDrR"><span class="token-line" style="color:#F8F8F2"><span class="token plain">https://dotnet.microsoft.com/download</span><br></span></code></pre><div class="buttonGroup_Qu4e"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_an20" aria-hidden="true"><div class="icon_S7Kx m_thRi copyButtonIcon_ZL7v"><svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg" role="img"><path d="M2.917 12.833c-.321 0-.596-.114-.825-.343a1.121 1.121 0 0 1-.342-.823V3.5h1.167v8.167h6.416v1.166H2.917ZM5.25 10.5c-.32 0-.596-.114-.824-.343a1.121 1.121 0 0 1-.343-.824v-7c0-.32.115-.595.343-.824.229-.229.504-.343.824-.342h5.25c.32 0 .596.114.824.343.229.228.343.503.343.823v7c0 .321-.115.596-.343.825a1.121 1.121 0 0 1-.824.342H5.25Zm0-1.167h5.25v-7H5.25v7Z" fill="#fff"></path></svg></div></span></button></div></div></div><p><em>Note that you may need to download a specific version of dotnet to be able to build the Nethermind kintsugi branch. In this guide we use version <code>5.0.12</code>. By the time you read this guide you may need version <code>6.0</code>.</em></p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="2--build-nethermind">2- Build Nethermind<a href="#2--build-nethermind" class="hash-link" aria-label="Direct link to 2- Build Nethermind" title="Direct link to 2- Build Nethermind">​</a></h3><p>From the command line, run the following:</p><div class="codeBlockContainer_EB2s codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:rgba(var(--lsd-surface-secondary), 0.08)"><div class="codeBlockContent_ugSV"><pre tabindex="0" class="prism-code language-text codeBlock_TWhw thin-scrollbar"><code class="codeBlockLines_LDrR"><span class="token-line" style="color:#F8F8F2"><span class="token plain">git clone https://github.com/NethermindEth/nethermind.git --recursive -b themerge_kintsugi</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">cd src/Nethermind</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">dotnet build Nethermind.sln -c Release</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># if src/Nethermind/Nethermind.Runner/bin/Release/net5.0/plugins has no Nethermind.Merge.Plugin.dll plugin then you may need to run the build again</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">dotnet build Nethermind.sln -c Release</span><br></span></code></pre><div class="buttonGroup_Qu4e"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_an20" aria-hidden="true"><div class="icon_S7Kx m_thRi copyButtonIcon_ZL7v"><svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg" role="img"><path d="M2.917 12.833c-.321 0-.596-.114-.825-.343a1.121 1.121 0 0 1-.342-.823V3.5h1.167v8.167h6.416v1.166H2.917ZM5.25 10.5c-.32 0-.596-.114-.824-.343a1.121 1.121 0 0 1-.343-.824v-7c0-.32.115-.595.343-.824.229-.229.504-.343.824-.342h5.25c.32 0 .596.114.824.343.229.228.343.503.343.823v7c0 .321-.115.596-.343.825a1.121 1.121 0 0 1-.824.342H5.25Zm0-1.167h5.25v-7H5.25v7Z" fill="#fff"></path></svg></div></span></button></div></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="3--run-nethermind">3- Run Nethermind<a href="#3--run-nethermind" class="hash-link" aria-label="Direct link to 3- Run Nethermind" title="Direct link to 3- Run Nethermind">​</a></h3><p>Once Nethermind has been built, you are ready to run it:</p><div class="codeBlockContainer_EB2s codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:rgba(var(--lsd-surface-secondary), 0.08)"><div class="codeBlockContent_ugSV"><pre tabindex="0" class="prism-code language-text codeBlock_TWhw thin-scrollbar"><code class="codeBlockLines_LDrR"><span class="token-line" style="color:#F8F8F2"><span class="token plain">cd Nethermind.Runner</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">rm -rf bin/Release/net5.0/nethermind_db</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">dotnet run -c Release -- --config themerge_kintsugi_m2 --Merge.TerminalTotalDifficulty 0</span><br></span></code></pre><div class="buttonGroup_Qu4e"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_an20" aria-hidden="true"><div class="icon_S7Kx m_thRi copyButtonIcon_ZL7v"><svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg" role="img"><path d="M2.917 12.833c-.321 0-.596-.114-.825-.343a1.121 1.121 0 0 1-.342-.823V3.5h1.167v8.167h6.416v1.166H2.917ZM5.25 10.5c-.32 0-.596-.114-.824-.343a1.121 1.121 0 0 1-.343-.824v-7c0-.32.115-.595.343-.824.229-.229.504-.343.824-.342h5.25c.32 0 .596.114.824.343.229.228.343.503.343.823v7c0 .321-.115.596-.343.825a1.121 1.121 0 0 1-.824.342H5.25Zm0-1.167h5.25v-7H5.25v7Z" fill="#fff"></path></svg></div></span></button></div></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="4--checkout-the-nimbus-kintsugi-branch">4- Checkout the Nimbus Kintsugi branch<a href="#4--checkout-the-nimbus-kintsugi-branch" class="hash-link" aria-label="Direct link to 4- Checkout the Nimbus Kintsugi branch" title="Direct link to 4- Checkout the Nimbus Kintsugi branch">​</a></h3><p>With Nethermind running, open a separate terminal window. Change into the <code>nimbus-eth2</code> directory and run:</p><div class="codeBlockContainer_EB2s codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:rgba(var(--lsd-surface-secondary), 0.08)"><div class="codeBlockContent_ugSV"><pre tabindex="0" class="prism-code language-text codeBlock_TWhw thin-scrollbar"><code class="codeBlockLines_LDrR"><span class="token-line" style="color:#F8F8F2"><span class="token plain">git checkout kintsugi</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">git pull</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">make update</span><br></span></code></pre><div class="buttonGroup_Qu4e"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_an20" aria-hidden="true"><div class="icon_S7Kx m_thRi copyButtonIcon_ZL7v"><svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg" role="img"><path d="M2.917 12.833c-.321 0-.596-.114-.825-.343a1.121 1.121 0 0 1-.342-.823V3.5h1.167v8.167h6.416v1.166H2.917ZM5.25 10.5c-.32 0-.596-.114-.824-.343a1.121 1.121 0 0 1-.343-.824v-7c0-.32.115-.595.343-.824.229-.229.504-.343.824-.342h5.25c.32 0 .596.114.824.343.229.228.343.503.343.823v7c0 .321-.115.596-.343.825a1.121 1.121 0 0 1-.824.342H5.25Zm0-1.167h5.25v-7H5.25v7Z" fill="#fff"></path></svg></div></span></button></div></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="5--launch-local-testnet">5- Launch local testnet<a href="#5--launch-local-testnet" class="hash-link" aria-label="Direct link to 5- Launch local testnet" title="Direct link to 5- Launch local testnet">​</a></h3><p>Still in <code>nimbus-eth2</code>, run:</p><div class="codeBlockContainer_EB2s codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:rgba(var(--lsd-surface-secondary), 0.08)"><div class="codeBlockContent_ugSV"><pre tabindex="0" class="prism-code language-text codeBlock_TWhw thin-scrollbar"><code class="codeBlockLines_LDrR"><span class="token-line" style="color:#F8F8F2"><span class="token plain">./scripts/launch_local_testnet.sh --preset minimal --nodes 4 --disable-htop --stop-at-epoch 7 -- --verify-finalization --discv5:no</span><br></span></code></pre><div class="buttonGroup_Qu4e"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_an20" aria-hidden="true"><div class="icon_S7Kx m_thRi copyButtonIcon_ZL7v"><svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg" role="img"><path d="M2.917 12.833c-.321 0-.596-.114-.825-.343a1.121 1.121 0 0 1-.342-.823V3.5h1.167v8.167h6.416v1.166H2.917ZM5.25 10.5c-.32 0-.596-.114-.824-.343a1.121 1.121 0 0 1-.343-.824v-7c0-.32.115-.595.343-.824.229-.229.504-.343.824-.342h5.25c.32 0 .596.114.824.343.229.228.343.503.343.823v7c0 .321-.115.596-.343.825a1.121 1.121 0 0 1-.824.342H5.25Zm0-1.167h5.25v-7H5.25v7Z" fill="#fff"></path></svg></div></span></button></div></div></div><p>This will create a 4-node local testnet with 128 validators that will exist for 7 epochs. Feel free to try out different parameters if you so wish.</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="6--check-nimbus-output">6- Check Nimbus' output<a href="#6--check-nimbus-output" class="hash-link" aria-label="Direct link to 6- Check Nimbus' output" title="Direct link to 6- Check Nimbus' output">​</a></h3><p>If all is working correctly, the Nimbus console output should look something like:</p><div class="codeBlockContainer_EB2s codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:rgba(var(--lsd-surface-secondary), 0.08)"><div class="codeBlockContent_ugSV"><pre tabindex="0" class="prism-code language-text codeBlock_TWhw thin-scrollbar"><code class="codeBlockLines_LDrR"><span class="token-line" style="color:#F8F8F2"><span class="token plain">nimbus-eth2$ N=0; while ./scripts/launch_local_testnet.sh --preset minimal --nodes 4 --disable-htop --stop-at-epoch 8 -- --verify-finalization --discv5:no; do N=$((N+1)); echo "That was run #${N}"; sleep 67; done</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Building: build/nimbus_beacon_node</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Building: build/nimbus_signing_process</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Building: build/deposit_contract</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Build completed successfully: build/nimbus_signing_process</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Build completed successfully: build/deposit_contract</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Build completed successfully: build/nimbus_beacon_node</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">NOT 2021-11-17 15:40:11.894+01:00 Generating deposits                        tid=966934 file=keystore_management.nim:562 totalNewValidators=128 validatorsDir=local_testnet_data/validators secretsDir=local_testnet_data/secrets</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">NOT 2021-11-17 15:40:51.434+01:00 Deposit data written                       tid=966934 file=deposit_contract.nim:222 filename=local_testnet_data/deposits.json</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Wrote local_testnet_data/genesis.ssz</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">WRN 2021-11-17 15:40:51.443+01:00 Using insecure password to lock networking key key_path=local_testnet_data/network_key.json</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">INF 2021-11-17 15:40:52.184+01:00 New network key storage was created        topics="networking" key_path=local_testnet_data/network_key.json network_public_key=08021221029b0d9c63dc15335b6f1f73dc359a0bda88a84cc7e0346f12e64084673a35a915</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Wrote local_testnet_data/bootstrap_nodes.txt</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Wrote local_testnet_data/config.yaml:</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">DEPOSIT_NETWORK_ID: 1</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">PRESET_BASE: minimal</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">MIN_GENESIS_ACTIVE_VALIDATOR_COUNT: 128</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">MIN_GENESIS_TIME: 0</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">GENESIS_DELAY: 10</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">DEPOSIT_CONTRACT_ADDRESS: 0x0000000000000000000000000000000000000000</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ETH1_FOLLOW_DISTANCE: 1</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ALTAIR_FORK_EPOCH: 1</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">MERGE_FORK_EPOCH: 2</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">TERMINAL_TOTAL_DIFFICULTY: 0</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">That was run #1</span><br></span></code></pre><div class="buttonGroup_Qu4e"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_an20" aria-hidden="true"><div class="icon_S7Kx m_thRi copyButtonIcon_ZL7v"><svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg" role="img"><path d="M2.917 12.833c-.321 0-.596-.114-.825-.343a1.121 1.121 0 0 1-.342-.823V3.5h1.167v8.167h6.416v1.166H2.917ZM5.25 10.5c-.32 0-.596-.114-.824-.343a1.121 1.121 0 0 1-.343-.824v-7c0-.32.115-.595.343-.824.229-.229.504-.343.824-.342h5.25c.32 0 .596.114.824.343.229.228.343.503.343.823v7c0 .321-.115.596-.343.825a1.121 1.121 0 0 1-.824.342H5.25Zm0-1.167h5.25v-7H5.25v7Z" fill="#fff"></path></svg></div></span></button></div></div></div><p>If you're using macOS you may also see a bunch of warnings that look like</p><div class="codeBlockContainer_EB2s codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:rgba(var(--lsd-surface-secondary), 0.08)"><div class="codeBlockContent_ugSV"><pre tabindex="0" class="prism-code language-text codeBlock_TWhw thin-scrollbar"><code class="codeBlockLines_LDrR"><span class="token-line" style="color:#F8F8F2"><span class="token plain">warning: (x86_64)  could not find object file symbol for symbol _br_rsa_pkcs1_sig_unpad.pad1</span><br></span></code></pre><div class="buttonGroup_Qu4e"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_an20" aria-hidden="true"><div class="icon_S7Kx m_thRi copyButtonIcon_ZL7v"><svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg" role="img"><path d="M2.917 12.833c-.321 0-.596-.114-.825-.343a1.121 1.121 0 0 1-.342-.823V3.5h1.167v8.167h6.416v1.166H2.917ZM5.25 10.5c-.32 0-.596-.114-.824-.343a1.121 1.121 0 0 1-.343-.824v-7c0-.32.115-.595.343-.824.229-.229.504-.343.824-.342h5.25c.32 0 .596.114.824.343.229.228.343.503.343.823v7c0 .321-.115.596-.343.825a1.121 1.121 0 0 1-.824.342H5.25Zm0-1.167h5.25v-7H5.25v7Z" fill="#fff"></path></svg></div></span></button></div></div></div><p>You can safely ignore these.</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="7--check-netherminds-output">7- Check Nethermind's output<a href="#7--check-netherminds-output" class="hash-link" aria-label="Direct link to 7- Check Nethermind's output" title="Direct link to 7- Check Nethermind's output">​</a></h3><p>On the Nethermind side, you should pay particular attention to the following JSON RPC calls: <code>engine_forkchoiceUpdatedV1</code>, <code>engine_getPayloadV1</code>, <code>engine_executePayloadV1</code> – these document the consensus calling the <a href="https://github.com/ethereum/execution-apis/blob/v1.0.0-alpha.4/src/engine/specification.md" target="_blank" rel="noopener noreferrer">engine api</a> for a valuable payload.</p><p>To elaborate a little, in a post-merge beacon chain, a consensus layer client needs to call two functions from the execution layer client in order to prepare a block:</p><ul><li><p><code>engine_forkchoiceUpdatedV1</code>, which returns the <code>status</code> (<!-- -->`<!-- -->SUCCESS<!-- -->`<!-- --> or <!-- -->`<!-- -->SYNCING<!-- -->`<!-- -->) and a <code>payloadId</code>.</p></li><li><p><code>engine_getPayloadV1</code> which accepts a <code>payloadId</code>.</p></li></ul><p>The ultimate goal of these two calls is to allow for an execution (eth1) block to be included in a consensus (eth2) block.</p><p><em>More formally<strong>,</strong> <code>engine_executePayloadV1</code> verifies the payload according to the execution environment rule set (<a href="https://eips.ethereum.org/EIPS/eip-3675#specification" target="_blank" rel="noopener noreferrer">EIP-3675</a>) and returns the status of the verification</em></p><p><code>forkchoiceUpdatedV1</code> first propagates the change in the fork choice to the execution client (for example, the head of the chain and the finalized block must be updated according to the given data) before initiating the preparation of the payload &nbsp;if it is needed; this allows the consensus client to be able to give the execution client some time to prepare the payload (i.e., find the best set of transactions it can from the mempool) before the <code>getPayloadV1</code> call is made.</p><p>To borrow an explanation from Danny Ryan, intuitively the call semantics are:</p><ul><li><p>"update your fork choice" (no payload build requested)</p></li><li><p>"update your fork choice and start building something valuable on top of it!" (payload build requested)</p></li></ul><p>The latter only happens when you need to propose a block.</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="how-do-we-know-that-the-merge-has-happened">How do we know that the merge has happened?<a href="#how-do-we-know-that-the-merge-has-happened" class="hash-link" aria-label="Direct link to How do we know that the merge has happened?" title="Direct link to How do we know that the merge has happened?">​</a></h3><p>The first <code>engine_executePayloadV1</code> method call that communicates a valid payload to the execution client initiates the Merge transition.</p><p>Then the first <code>[POS_FORKCHOICE_UPDATED](https://eips.ethereum.org/EIPS/eip-3675#specification)</code> event (in the form of a <code>engine_forkchoiceUpdatedV1</code> method call) that finalises the first communicated payload finishes the transition.</p><p>After the Merge transition is finalised, the Merge can be considered as having happened.</p><p>This tutorial is adapted from <a href="https://github.com/status-im/nimbus-eth2/blob/unstable/docs/neth-m2-nimbus.md" target="_blank" rel="noopener noreferrer">Dustin Brody's original</a> (Dustin has been leading the charge on the Merge interop front at Nimbus). If you get stuck anywhere, or have any questions at all please don't hesitate to get in touch with us on our <a href="https://discord.gg/9SSF5tAd" target="_blank" rel="noopener noreferrer">discord</a>. You can keep track of our Kintsugi progress <a href="https://github.com/status-im/nimbus-eth2/pull/3093" target="_blank" rel="noopener noreferrer">here</a>, and Nethermind's progress <a href="https://github.com/NethermindEth/nethermind/pull/3597" target="_blank" rel="noopener noreferrer">here</a>.</p>]]></content:encoded>
        </item>
        <item>
            <title><![CDATA[Nimbus - Execution Layer]]></title>
            <link>https://nimbus.team/nimbus-execution-layer</link>
            <guid>https://nimbus.team/nimbus-execution-layer</guid>
            <pubDate>Sat, 13 Nov 2021 10:00:00 GMT</pubDate>
            <description><![CDATA[It is a little known secret that, in addition to our consensus layer (eth2) client we are building out an execution layer (eth1) client - with the objective that it should be ready for the merge.]]></description>
            <content:encoded><![CDATA[<p></p><div class="wrapper_SWrM active_qZD5"><img loading="lazy" alt="header-image" src="/assets/images/header-14ea3f22d54ffc207d354b92dc24bca0.png" width="567" height="761" class="img_ev3q"><button class="fullscreenButton_Bocn lsd-icon-button lsd-icon-button--medium lsd-icon-button--outlined"><div class="icon_S7Kx m_thRi"><svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg" role="img"><path d="M1.75 2.917V5.25h1.167V2.917H5.25V1.75H2.917A1.17 1.17 0 0 0 1.75 2.917ZM2.917 8.75H1.75v2.333a1.17 1.17 0 0 0 1.167 1.167H5.25v-1.167H2.917V8.75Zm8.166 2.333H8.75v1.167h2.333a1.17 1.17 0 0 0 1.167-1.167V8.75h-1.167v2.333Zm0-9.333H8.75v1.167h2.333V5.25h1.167V2.917a1.17 1.17 0 0 0-1.167-1.167Z" fill="#fff"></path></svg></div></button></div><p></p><p>It is a little known secret that, in addition to our consensus layer (eth2) client we are building out an execution layer (eth1) client - with the objective that it should be ready for the merge.</p><p>Why is this important? One topical reason is client diversity.</p><blockquote><p>1/ A diverse execution-layer client ecosystem is at the heart of all that we’re building together.  </p><p>Today, we're excited to announce that <a href="https://twitter.com/compoundgrants?ref_src=twsrc%5Etfw" target="_blank" rel="noopener noreferrer">@compoundgrants</a>, <a href="https://twitter.com/krakenfx?ref_src=twsrc%5Etfw" target="_blank" rel="noopener noreferrer">@krakenfx</a>, <a href="https://twitter.com/LidoFinance?ref_src=twsrc%5Etfw" target="_blank" rel="noopener noreferrer">@LidoFinance</a>, <a href="https://twitter.com/synthetix_io?ref_src=twsrc%5Etfw" target="_blank" rel="noopener noreferrer">@synthetix<!-- -->_<!-- -->io</a>, <a href="https://twitter.com/graphprotocol?ref_src=twsrc%5Etfw" target="_blank" rel="noopener noreferrer">@graphprotocol</a> &amp; <a href="https://twitter.com/Uniswap?ref_src=twsrc%5Etfw" target="_blank" rel="noopener noreferrer">@Uniswap</a> are donating $250K each to support <a href="https://twitter.com/hashtag/Ethereum?src=hash&amp;ref_src=twsrc%5Etfw" target="_blank" rel="noopener noreferrer">#Ethereum</a> client teams.</p><p>— Ethereum (@ethereum) <a href="https://twitter.com/ethereum/status/1430124634104545288?ref_src=twsrc%5Etfw" target="_blank" rel="noopener noreferrer">August 24, 2021</a></p></blockquote><p>To put it simply, the more functional and performant clients we have on both layers (consensus + execution), the better and more resilient Ethereum stands to be.</p><blockquote><p>*<!-- --> we already have the most client diversity out of any chain  </p><p>*<!-- --> but we can do better. the beacon chain was built to incentivise this, and so stakers are pushed to run minority clients  </p><p>*<!-- --> by having ensuring that no one client is dominant, we harden ourselves against bugs</p><p>— carlbeek.eth (@CarlBeek) <a href="https://twitter.com/CarlBeek/status/1449126854498078722?ref_src=twsrc%5Etfw" target="_blank" rel="noopener noreferrer">October 15, 2021</a></p></blockquote><p>While <strong>client diversity is crucial to a resilient Ethereum</strong>, it alone would not warrant such a huge engineering effort on our part.</p><p>Our high level vision, and the main reason we're rolling our own execution layer client, is for <strong>easy and seamless integration with Status</strong> - both desktop and mobile.</p><blockquote><p>I can't wait to run Nimbus straight from Status Desktop <a href="https://twitter.com/hashtag/hyped?src=hash&amp;ref_src=twsrc%5Etfw" target="_blank" rel="noopener noreferrer">#hyped</a></p><p>— Jarrad Hope | @ethstatus (@0xc1c4da) <a href="https://twitter.com/0xc1c4da/status/1293473249347555334?ref_src=twsrc%5Etfw" target="_blank" rel="noopener noreferrer">August 12, 2020</a></p></blockquote><p>Such an integration requires a custom, embeddable, and ultra-efficient Ethereum client - across both execution and consensus layer environments.</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="relationship-with-fluffy">Relationship with Fluffy<a href="#relationship-with-fluffy" class="hash-link" aria-label="Direct link to Relationship with Fluffy" title="Direct link to Relationship with Fluffy">​</a></h3><p>To achieve the above requires us to optimize resource consumption in novel ways. At the execution layer, we aim to offer <strong>a unique combination of lower space usage and faster sync.</strong></p><p>Our method of syncing, which we call beam-ish sync, will allow nodes to participate in the network early, while data sync continues in the background - this behaviour is similar to <a href="https://our.status.im/nimbus-fluffly/" target="_blank" rel="noopener noreferrer">Fluffy</a> (our <a href="https://www.ethportal.net/" target="_blank" rel="noopener noreferrer">Portal Network</a> light client) and our work there will be re-used here - the idea is that we'll eventually integrate Fluffy into our execution client.</p><p>In addition to integating Fluffy, one of our main design goals is to make it as easy as possible for our consensus and execution clients to be bundled into a single piece of software; this will drastically improve the UX of running a post-merge client, making it very similar to running a pre-merge PoW client today.</p><p>This ties into our overarching vision: to significantly lower the barrier to running both full nodes and light clients, and in doing so help make Ethereum as accessible and decentralised as possible.</p><blockquote><p>Decentralization is the cost to run a full node. Not because running a full node is inherently anything special, but because it's a means to an end: self-soverignty. Being able to detect when block producers try to change the rules that we the community all agree on.</p><p>— John Adler | ✨⛽ (@jadler0) <a href="https://twitter.com/jadler0/status/1433985695396282372?ref_src=twsrc%5Etfw" target="_blank" rel="noopener noreferrer">September 4, 2021</a></p></blockquote><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="recent-progress">Recent progress<a href="#recent-progress" class="hash-link" aria-label="Direct link to Recent progress" title="Direct link to Recent progress">​</a></h3><p>Some highlights from the past 6 months include:</p><ul><li>Significantly expanded the team: meet <a href="https://github.com/jlokier" target="_blank" rel="noopener noreferrer">Jamie</a> and <a href="https://github.com/mjfh" target="_blank" rel="noopener noreferrer">Jordan</a></li><li>Renewed funding from the EF to accelerate &nbsp;development</li><li>Completed Berlin and London fork compatibility (EIP-1559): we now pass nearly all the EF Hive testsuite, and 100% of contract execution tests (47,951 tests)</li><li>New GraphQL and WebSocket APIs, complementing JSON-RPC</li><li>EVMC compatibility, supporting third-party optimised EVM plugins. Up to 100x memory saving during contract executions. Asynchronous EVM to execute many contracts in parallel (while they wait for data from the network)</li><li>Proof-of-authority validation for the Goerli test network. Updated network protocols, to work with the latest eth/65-66 and snap/1 protocols</li><li>A prototype new mechanism for state sync which combines what have been called Fast sync, Snap sync and Beam sync in a self-tuning way, and allows the user to participate in the network (read accounts, run transactions etc.) while sync is still in progress</li><li>A working transaction pool</li></ul><blockquote><p>Spotted in the <a href="https://twitter.com/ethnimbus?ref_src=twsrc%5Etfw" target="_blank" rel="noopener noreferrer">@ethnimbus</a> discord today.. <a href="https://t.co/1Ffqgd1iDz" target="_blank" rel="noopener noreferrer">pic.twitter.com/1Ffqgd1iDz</a></p><p>— Jacek Sieka (@jcksie) <a href="https://twitter.com/jcksie/status/1446399794243592200?ref_src=twsrc%5Etfw" target="_blank" rel="noopener noreferrer">October 8, 2021</a></p></blockquote><p>Wahay! I can confirm there have been no other issues (consensus, networking) syncing up to the head block of Goerli, and I can finally answer the question: "What happens if you just run <code>nimbus --goerli</code> today?"</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="still-in-progress">Still in progress<a href="#still-in-progress" class="hash-link" aria-label="Direct link to Still in progress" title="Direct link to Still in progress">​</a></h3><p>While we've made significant progress on many fronts, we still have our work cut out for us in the run up to the merge. As it stands, we are currently working on:</p><ul><li>A significant redesign of the storage database to use less disk space and run faster</li><li>The ability to post a transaction for one's own account</li><li>Implementing <a href="https://eips.ethereum.org/EIPS/eip-3675" target="_blank" rel="noopener noreferrer">EIP-3675</a> (aka The Merge)</li></ul><blockquote><p>In a month, we would like to launch a larger Merge devnet with better client distribution, once development stabilizes more.  </p><p>4/5</p><p>— proto.eth 🚂 🦇 🔊 (@protolambda) <a href="https://twitter.com/protolambda/status/1447595072543920132?ref_src=twsrc%5Etfw" target="_blank" rel="noopener noreferrer">October 11, 2021</a></p></blockquote><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="stay-updated">Stay updated<a href="#stay-updated" class="hash-link" aria-label="Direct link to Stay updated" title="Direct link to Stay updated">​</a></h3><p>The plan for this month is to participate in the rolling merge devnets &nbsp;- one per week - before the more persistent testnet planned for the first week of December. We are working as hard as we can to try to have our execution layer client ready in time. Our immediate goal however is to pass the merge interop milestones in local tests.</p><p>If you have any questions or would like to stay updated on our progress, please join our <a href="https://discord.gg/7G5GCMRZ" target="_blank" rel="noopener noreferrer">discord</a> and or sign up to our <a href="http://subscribe.nimbus.team/" target="_blank" rel="noopener noreferrer">newsletter</a>.</p>]]></content:encoded>
        </item>
        <item>
            <title><![CDATA[Nimbus update - Pre-merge interop!]]></title>
            <link>https://nimbus.team/nimbus-update-pre-merge-devnets</link>
            <guid>https://nimbus.team/nimbus-update-pre-merge-devnets</guid>
            <pubDate>Sat, 02 Oct 2021 10:00:00 GMT</pubDate>
            <description><![CDATA[It is a little known secret that, in addition to our consensus layer (eth2) client we are building out an execution layer (eth1) client - with the objective that it should be ready for the merge.]]></description>
            <content:encoded><![CDATA[<p></p><div class="wrapper_SWrM active_qZD5"><img loading="lazy" alt="header-image" src="/assets/images/header-8ce0e43f2cbf84a919813f7226c121b3.png" width="3000" height="1000" class="img_ev3q"><button class="fullscreenButton_Bocn lsd-icon-button lsd-icon-button--medium lsd-icon-button--outlined"><div class="icon_S7Kx m_thRi"><svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg" role="img"><path d="M1.75 2.917V5.25h1.167V2.917H5.25V1.75H2.917A1.17 1.17 0 0 0 1.75 2.917ZM2.917 8.75H1.75v2.333a1.17 1.17 0 0 0 1.167 1.167H5.25v-1.167H2.917V8.75Zm8.166 2.333H8.75v1.167h2.333a1.17 1.17 0 0 0 1.167-1.167V8.75h-1.167v2.333Zm0-9.333H8.75v1.167h2.333V5.25h1.167V2.917a1.17 1.17 0 0 0-1.167-1.167Z" fill="#fff"></path></svg></div></button></div><p></p><p>In the words of Danny Ryan, Altair is here and the Merge is coming!</p><blockquote><p>Finalized no. 29<a href="https://t.co/ssVYW3M8d7" target="_blank" rel="noopener noreferrer">https://t.co/ssVYW3M8d7</a>  </p><p>Altair is here; the Merge is coming.  </p><p>tl;dr below</p><p>— dannyryan 🚂 (@dannyryan) <a href="https://twitter.com/dannyryan/status/1442873900652646405?ref_src=twsrc%5Etfw" target="_blank" rel="noopener noreferrer">September 28, 2021</a></p></blockquote><p>We first simulated the merge back in April/May of this year.</p><blockquote><p>&gt;<!-- --> This is the first time all eth2 and eth1 clients communicated with each other in an emulation of the merger which removes Proof of Work miners and fully upgrades the network to Proof of Stake.  </p><p>eth2 progress deniers in disbelief <a href="https://t.co/VGlWCI5d3v" target="_blank" rel="noopener noreferrer">https://t.co/VGlWCI5d3v</a></p><p>— banteg (@bantg) <a href="https://twitter.com/bantg/status/1388609381869236227?ref_src=twsrc%5Etfw" target="_blank" rel="noopener noreferrer">May 1, 2021</a></p></blockquote><p>Fast forwards 5 months and we're finally ready for a more realistic follow-up.</p><blockquote><p>the merge is coming fast. THE MERGE Y'ALL. arguably the largest event in blockchain history since the bitcoin genesis block. It's proof that together we can build a decentralized future, and (responsibly) improve and innovate on the core infrastructure via rough social consensus <a href="https://t.co/2h6GMKF2wJ" target="_blank" rel="noopener noreferrer">https://t.co/2h6GMKF2wJ</a></p><p>— kassandra.eth (@RitualTypist) <a href="https://twitter.com/RitualTypist/status/1442888325535125510?ref_src=twsrc%5Etfw" target="_blank" rel="noopener noreferrer">September 28, 2021</a></p></blockquote><p>This time, the interop will <a href="https://hackmd.io/@n0ble/merge-interop-spec" target="_blank" rel="noopener noreferrer">build off Altair</a>, rather than Phase 0.<br>
<!-- -->Importantly, we'll be testing the transition mechanism that will take us from a pre to post merge world.</p><blockquote><p>Productionizing the Merge spec includes:<br>
<!-- -->-<!-- --> Improving the Consensus API (separating it from the user JSON-RPC)<br>
<!-- -->-<!-- --> Implementing the logic for the latest fork-transition approach<br>
<!-- -->-<!-- --> Rebase the work onto Altair/London upgrades</p><p>— proto.eth 🚂 🦇 🔊 (@protolambda) <a href="https://twitter.com/protolambda/status/1392448056591884288?ref_src=twsrc%5Etfw" target="_blank" rel="noopener noreferrer">May 12, 2021</a></p></blockquote><p>The merge spec has just recently been "productionised"</p><p>We also have a 5th client on the block &nbsp;:)  </p><blockquote><p>LODESTAR JOINED THE 100% CLUB 😎 Max profitability for a full day on Eth2.0 mainnet.  </p><p>*<!-- -->I test in prod<!-- -->*<!-- --> master <a href="https://twitter.com/gregthegreek?ref_src=twsrc%5Etfw" target="_blank" rel="noopener noreferrer">@gregthegreek</a> plz enjoy your sweet rewards <a href="https://twitter.com/ChainSafeth?ref_src=twsrc%5Etfw" target="_blank" rel="noopener noreferrer">@ChainSafeth</a> 🚀🚀🚀🚀 <a href="https://t.co/e8RMR8fRdi" target="_blank" rel="noopener noreferrer">pic.twitter.com/e8RMR8fRdi</a></p><p>— Lion ⟠ dapplion .eth (@dapplion) <a href="https://twitter.com/dapplion/status/1438882897260425217?ref_src=twsrc%5Etfw" target="_blank" rel="noopener noreferrer">September 17, 2021</a></p></blockquote><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="merge-quick-sync">Merge quick sync<a href="#merge-quick-sync" class="hash-link" aria-label="Direct link to Merge quick sync" title="Direct link to Merge quick sync">​</a></h3><p>In general an Ethereum client consists of two layers - the consensus layer and the execution layer.</p><p>The consensus layer is responsible for the consensus, i.e. block validity, and fork choice rule. As it stands, on mainnet, we rely on PoW consensus. The Merge enables PoS consensus driven by the beacon chain.</p><p>The execution-layer is responsible for transaction bundling, execution, and state management. During the merge this layer will be represented by modified pre-merge PoW clients (eg. geth, nethermind, besu, openethereum, turbogeth, etc).</p><p>The key to a successful merge is getting these two layers to talk to each other: the plan right now is for them to interact via a one-way communication protocol, driven by the consensus layer (although this approach is not yet set in stone).</p><blockquote><p>Note that if these layers are bundled into a single piece of software, then the UX of running a post-merge client becomes very similar to running a pre-merge PoW client today (which is precisely why we are working so hard on building out <a href="https://github.com/status-im/nimbus-eth1" target="_blank" rel="noopener noreferrer">our execution layer client</a>).</p></blockquote><p>If you'd like to to dig into the details, <a href="https://hackmd.io/@n0ble/merge-interop-spec" target="_blank" rel="noopener noreferrer">this document</a> specifies the modifications that must be made to beacon chain and pre-merge clients to turn them into a post-merge consensus node and execution engine, respectively.</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="our-progress">Our progress<a href="#our-progress" class="hash-link" aria-label="Direct link to Our progress" title="Direct link to Our progress">​</a></h3><p>We have passed all the <a href="https://notes.ethereum.org/@9AeMAlpyQYaAAyuj47BzRw/rkwW3ceVY" target="_blank" rel="noopener noreferrer">merge spec tests</a>. If you want to get your hands dirty, you can actually <a href="https://github.com/status-im/nimbus-eth2/blob/amphora-merge-interop/docs/interop_merge.md#verify-that-nimbus-runs-through-the-same-examples" target="_blank" rel="noopener noreferrer">verify this for yourself</a>!</p><p>And while we're waiting for a compatible execution client, we have everything you need to <a href="https://github.com/status-im/nimbus-eth2/blob/amphora-merge-interop/docs/interop_merge.md" target="_blank" rel="noopener noreferrer">start experimenting</a> on the consensus side.</p><blockquote><p>Eager to get started with <a href="https://twitter.com/hashtag/themerge?src=hash&amp;ref_src=twsrc%5Etfw" target="_blank" rel="noopener noreferrer">#themerge</a> experiments? Our interop branch has got everything you need for the consensus side: <a href="https://t.co/rRwO27kmaK" target="_blank" rel="noopener noreferrer">https://t.co/rRwO27kmaK</a></p><p>— Nimbus (@ethnimbus) <a href="https://twitter.com/ethnimbus/status/1443943484893839370?ref_src=twsrc%5Etfw" target="_blank" rel="noopener noreferrer">October 1, 2021</a></p></blockquote><p>You can keep track of our broader progress <a href="https://github.com/status-im/nimbus-eth2/issues/2859" target="_blank" rel="noopener noreferrer">here</a>.</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="interop-lock-in-round-2">Interop lock in: round 2<a href="#interop-lock-in-round-2" class="hash-link" aria-label="Direct link to Interop lock in: round 2" title="Direct link to Interop lock in: round 2">​</a></h3><p>In the <a href="https://t.co/97X85jdCzM?amp=1" target="_blank" rel="noopener noreferrer">words of Ben Edgington</a>, the cat is out of the bag - the eth1 and eth2 client teams will be meeting up in early October to get some Merge devnets running.</p><p>You can think of this as round 2 of the interop event we did two years ago.</p><p>Expect to hear a lot of updates from the client teams as we build out the Merge logic and test our software together on short-lived devnets.</p><p>In anticipation, we'll leave you with some highlights from the previous lockin.</p><blockquote><p><a href="https://twitter.com/hashtag/Lighthouse?src=hash&amp;ref_src=twsrc%5Etfw" target="_blank" rel="noopener noreferrer">#Lighthouse</a> and <a href="https://twitter.com/ethnimbus?ref_src=twsrc%5Etfw" target="_blank" rel="noopener noreferrer">@ethnimbus</a> just finalized a <a href="https://twitter.com/hashtag/Eth2?src=hash&amp;ref_src=twsrc%5Etfw" target="_blank" rel="noopener noreferrer">#Eth2</a> epoch!  </p><p>As far as I know, this is the first instance of finality on a multi-client Eth2 testnet!  </p><p>Thanks <a href="https://twitter.com/protolambda?ref_src=twsrc%5Etfw" target="_blank" rel="noopener noreferrer">@protolambda</a>, <a href="https://twitter.com/dannyryan?ref_src=twsrc%5Etfw" target="_blank" rel="noopener noreferrer">@dannyryan</a> for the help. Great work on the networking stack <a href="https://twitter.com/AgeManning?ref_src=twsrc%5Etfw" target="_blank" rel="noopener noreferrer">@AgeManning</a> and <a href="https://twitter.com/jcksie?ref_src=twsrc%5Etfw" target="_blank" rel="noopener noreferrer">@jcksie</a></p><div class="wrapper_SWrM active_qZD5"><img loading="lazy" src="https://twitter.com/hashtag/Eth2?src=hash&amp;ref_src=twsrc%5Etfw" alt="#Eth2" class="img_ev3q"><button class="fullscreenButton_Bocn lsd-icon-button lsd-icon-button--medium lsd-icon-button--outlined"><div class="icon_S7Kx m_thRi"><svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg" role="img"><path d="M1.75 2.917V5.25h1.167V2.917H5.25V1.75H2.917A1.17 1.17 0 0 0 1.75 2.917ZM2.917 8.75H1.75v2.333a1.17 1.17 0 0 0 1.167 1.167H5.25v-1.167H2.917V8.75Zm8.166 2.333H8.75v1.167h2.333a1.17 1.17 0 0 0 1.167-1.167V8.75h-1.167v2.333Zm0-9.333H8.75v1.167h2.333V5.25h1.167V2.917a1.17 1.17 0 0 0-1.167-1.167Z" fill="#fff"></path></svg></div></button></div> is coming! <a href="https://t.co/vC5m9OuaT8" target="_blank" rel="noopener noreferrer">pic.twitter.com/vC5m9OuaT8</a><p></p><p>— Paul Hauner (@paulhauner) <a href="https://twitter.com/paulhauner/status/1170952290469122048?ref_src=twsrc%5Etfw" target="_blank" rel="noopener noreferrer">September 9, 2019</a></p></blockquote><blockquote><p>Artemis just achieved <a href="https://twitter.com/hashtag/interop?src=hash&amp;ref_src=twsrc%5Etfw" target="_blank" rel="noopener noreferrer">#interop</a> with <a href="https://twitter.com/ethnimbus?ref_src=twsrc%5Etfw" target="_blank" rel="noopener noreferrer">@ethnimbus</a> <a href="https://t.co/JWkIg3XinW" target="_blank" rel="noopener noreferrer">pic.twitter.com/JWkIg3XinW</a></p><p>— Joseph Delong 🔱 (@josephdelong) <a href="https://twitter.com/josephdelong/status/1171465845513408514?ref_src=twsrc%5Etfw" target="_blank" rel="noopener noreferrer">September 10, 2019</a></p></blockquote><blockquote><p>Validator monitoring coming to an <a href="https://twitter.com/ethnimbus?ref_src=twsrc%5Etfw" target="_blank" rel="noopener noreferrer">@ethnimbus</a> near you <!-- -->*<!-- -->soon(TM)<!-- -->*<!-- -->: <a href="https://t.co/x65lpxJ3t4" target="_blank" rel="noopener noreferrer">https://t.co/x65lpxJ3t4</a> - based on the excellent and pioneering work done by <a href="https://twitter.com/paulhauner?ref_src=twsrc%5Etfw" target="_blank" rel="noopener noreferrer">@paulhauner</a> / <a href="https://twitter.com/sigp_io?ref_src=twsrc%5Etfw" target="_blank" rel="noopener noreferrer">@sigp<!-- -->_<!-- -->io</a> - by and large compatible metrics make dashboard/monitoring interop easier too!</p><p>— Jacek Sieka (@jcksie) <a href="https://twitter.com/jcksie/status/1443568596865589248?ref_src=twsrc%5Etfw" target="_blank" rel="noopener noreferrer">September 30, 2021</a></p></blockquote><blockquote><p>Fully autonomous <a href="https://twitter.com/hashtag/eth2?src=hash&amp;ref_src=twsrc%5Etfw" target="_blank" rel="noopener noreferrer">#eth2</a> beacon chain between <a href="https://twitter.com/ethnimbus?ref_src=twsrc%5Etfw" target="_blank" rel="noopener noreferrer">@ethnimbus</a> and <a href="https://twitter.com/hashtag/lighthouse?src=hash&amp;ref_src=twsrc%5Etfw" target="_blank" rel="noopener noreferrer">#lighthouse</a> on a pair of raspberries found in the Canadian wilderness! <a href="https://t.co/Xkps1Yu3DS" target="_blank" rel="noopener noreferrer">pic.twitter.com/Xkps1Yu3DS</a></p><p>— Jacek Sieka (@jcksie) <a href="https://twitter.com/jcksie/status/1171886857908609024?ref_src=twsrc%5Etfw" target="_blank" rel="noopener noreferrer">September 11, 2019</a></p></blockquote><p><em>P.S. Keep your eyes peeled for an <a href="https://blog.ethereum.org" target="_blank" rel="noopener noreferrer">Ethereum Foundation blogpost</a> on Monday. This will include all mainnet Altair releases. We will also be making a more formal Altair announcement next week.</em></p>]]></content:encoded>
        </item>
    </channel>
</rss>